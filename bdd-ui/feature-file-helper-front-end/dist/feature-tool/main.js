(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/*! exports provided: name, version, scripts, private, dependencies, devDependencies, default */
/***/ (function(module) {

module.exports = {"name":"feature-file-tool-front-end","version":"1.0.0","scripts":{"ng":"ng","start":"ng serve","build":"ng build","test":"ng test --no-watch --code-coverage","test-dev":"ng test --code-coverage","lint":"ng lint","e2e":"ng e2e"},"private":true,"dependencies":{"@angular/animations":"~7.2.0","@angular/cdk":"~7.2.2","@angular/common":"~7.2.0","@angular/compiler":"~7.2.0","@angular/core":"~7.2.0","@angular/flex-layout":"~7.0.0-beta.23","@angular/forms":"~7.2.0","@angular/material":"~7.2.2","@angular/platform-browser":"~7.2.0","@angular/platform-browser-dynamic":"~7.2.0","@angular/router":"~7.2.0","@handsontable/angular":"~3.0.0","angular-webstorage-service":"~1.0.2","core-js":"^2.5.4","file-saver":"~2.0.0","gherkin":"~6.0.15","handsontable":"~6.2.2","lodash":"~4.17.11","ngx-filesaver":"~2.2.0","rxjs":"~6.3.3","tslib":"^1.9.0","zone.js":"~0.8.26"},"devDependencies":{"@angular-devkit/build-angular":"~0.13.8","@angular/cli":"~7.2.2","@angular/compiler-cli":"~7.2.12","@angular/language-service":"~7.2.0","@types/file-saver":"~2.0.0","@types/jasmine":"~2.8.8","@types/jasminewd2":"~2.0.3","@types/lodash":"~4.14.120","@types/node":"~8.9.4","codelyzer":"~4.5.0","cucumber":"~5.1.0","jasmine-core":"~2.99.1","jasmine-spec-reporter":"~4.2.1","karma":"~3.1.1","karma-chrome-launcher":"~2.2.0","karma-coverage-istanbul-reporter":"~2.0.1","karma-jasmine":"~1.1.2","karma-jasmine-html-reporter":"^0.2.2","protractor":"~5.4.0","ts-node":"~7.0.0","tslint":"~5.11.0","typescript":"~3.2.2"}};

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _pages_home_home_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/home/home.component */ "./src/app/pages/home/home.component.ts");




var routes = [
    { path: '', redirectTo: '/home', pathMatch: 'full' },
    { path: 'home', component: _pages_home_home_component__WEBPACK_IMPORTED_MODULE_3__["HomeComponent"] }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "mat-toolbar {\n    background-color: #cb0000;\n    color: white;\n}\n\n.mat-toolbar-multiple-rows {\n    min-height: 50px;\n}\n\n.mat-tab-link {\n    color: white;\n    opacity: 0.9;\n}\n\n.mat-toolbar-row {\n    height: 50px;\n}\n\n@media (max-width: 599px) {\n    .mat-toolbar-row {\n        height: 50px;\n    }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJO1FBQ0ksWUFBWTtJQUNoQjtBQUNKIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJtYXQtdG9vbGJhciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NiMDAwMDtcbiAgICBjb2xvcjogd2hpdGU7XG59XG5cbi5tYXQtdG9vbGJhci1tdWx0aXBsZS1yb3dzIHtcbiAgICBtaW4taGVpZ2h0OiA1MHB4O1xufVxuXG4ubWF0LXRhYi1saW5rIHtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgb3BhY2l0eTogMC45O1xufVxuXG4ubWF0LXRvb2xiYXItcm93IHtcbiAgICBoZWlnaHQ6IDUwcHg7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA1OTlweCkge1xuICAgIC5tYXQtdG9vbGJhci1yb3cge1xuICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgfVxufSJdfQ== */"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<router-outlet></router-outlet>"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var AppComponent = /** @class */ (function () {
    function AppComponent() {
        this.title = 'feature-tool';
        this.navLinks = [
            { label: 'Create', path: "/home" },
            { label: 'Edit', path: "/openFile" },
        ];
        this.activeLink = this.navLinks[0];
    }
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _material_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./material-module */ "./src/app/material-module.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/cdk/layout */ "./node_modules/@angular/cdk/esm5/layout.es5.js");
/* harmony import */ var _pages_home_home_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pages/home/home.component */ "./src/app/pages/home/home.component.ts");
/* harmony import */ var _components_given_when_then_given_when_then_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/given-when-then/given-when-then.component */ "./src/app/components/given-when-then/given-when-then.component.ts");
/* harmony import */ var _components_example_table_example_table_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/example-table/example-table.component */ "./src/app/components/example-table/example-table.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var ngx_filesaver__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-filesaver */ "./node_modules/ngx-filesaver/fesm5/ngx-filesaver.js");
/* harmony import */ var angular_webstorage_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! angular-webstorage-service */ "./node_modules/angular-webstorage-service/bundles/angular-webstorage-service.es5.js");
/* harmony import */ var _handsontable_angular__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @handsontable/angular */ "./node_modules/@handsontable/angular/fesm5/handsontable-angular.js");
/* harmony import */ var _components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/dialog/dialog.component */ "./src/app/components/dialog/dialog.component.ts");
/* harmony import */ var _components_dialog_table_dialog_table_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/dialog-table/dialog-table.component */ "./src/app/components/dialog-table/dialog-table.component.ts");
/* harmony import */ var _pipes_remove_html_pipe__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./pipes/remove-html.pipe */ "./src/app/pipes/remove-html.pipe.ts");
/* harmony import */ var _components_data_table_data_table_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/data-table/data-table.component */ "./src/app/components/data-table/data-table.component.ts");
/* harmony import */ var _components_scenario_scenario_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/scenario/scenario.component */ "./src/app/components/scenario/scenario.component.ts");
/* harmony import */ var _components_dialog_import_dialog_import_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/dialog-import/dialog-import.component */ "./src/app/components/dialog-import/dialog-import.component.ts");
/* harmony import */ var _components_dialog_remote_dialog_remote_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/dialog-remote/dialog-remote.component */ "./src/app/components/dialog-remote/dialog-remote.component.ts");
/* harmony import */ var _pipes_search_remote_pipe__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./pipes/search-remote.pipe */ "./src/app/pipes/search-remote.pipe.ts");
/* harmony import */ var _pipes_search_repo_pipe__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./pipes/search-repo.pipe */ "./src/app/pipes/search-repo.pipe.ts");




























var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"],
                _pages_home_home_component__WEBPACK_IMPORTED_MODULE_9__["HomeComponent"],
                _components_given_when_then_given_when_then_component__WEBPACK_IMPORTED_MODULE_10__["GivenWhenThenComponent"],
                _components_example_table_example_table_component__WEBPACK_IMPORTED_MODULE_11__["ExampleTableComponent"],
                _components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_18__["DialogComponent"],
                _components_dialog_table_dialog_table_component__WEBPACK_IMPORTED_MODULE_19__["DialogTableComponent"],
                _pipes_remove_html_pipe__WEBPACK_IMPORTED_MODULE_20__["RemoveHTMLPipe"],
                _components_data_table_data_table_component__WEBPACK_IMPORTED_MODULE_21__["DataTableComponent"],
                _components_scenario_scenario_component__WEBPACK_IMPORTED_MODULE_22__["ScenarioComponent"],
                _components_dialog_import_dialog_import_component__WEBPACK_IMPORTED_MODULE_23__["DialogImportComponent"],
                _components_dialog_remote_dialog_remote_component__WEBPACK_IMPORTED_MODULE_24__["DialogRemoteComponent"],
                _pipes_search_remote_pipe__WEBPACK_IMPORTED_MODULE_25__["SearchRemotePipe"],
                _pipes_search_repo_pipe__WEBPACK_IMPORTED_MODULE_26__["SearchRepoPipe"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_14__["HttpClientModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_3__["AppRoutingModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__["BrowserAnimationsModule"],
                _material_module__WEBPACK_IMPORTED_MODULE_6__["MaterialModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatGridListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatMenuModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatButtonModule"],
                _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_8__["LayoutModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_12__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_12__["ReactiveFormsModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_13__["FlexLayoutModule"],
                ngx_filesaver__WEBPACK_IMPORTED_MODULE_15__["FileSaverModule"],
                angular_webstorage_service__WEBPACK_IMPORTED_MODULE_16__["StorageServiceModule"],
                _handsontable_angular__WEBPACK_IMPORTED_MODULE_17__["HotTableModule"].forRoot()
            ],
            entryComponents: [_pages_home_home_component__WEBPACK_IMPORTED_MODULE_9__["HomeComponent"], _components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_18__["DialogComponent"], _components_dialog_table_dialog_table_component__WEBPACK_IMPORTED_MODULE_19__["DialogTableComponent"], _components_dialog_import_dialog_import_component__WEBPACK_IMPORTED_MODULE_23__["DialogImportComponent"], _components_dialog_remote_dialog_remote_component__WEBPACK_IMPORTED_MODULE_24__["DialogRemoteComponent"]],
            providers: [
                { provide: _angular_material__WEBPACK_IMPORTED_MODULE_7__["MAT_DIALOG_DEFAULT_OPTIONS"], useValue: { hasBackdrop: true } },
                _pipes_remove_html_pipe__WEBPACK_IMPORTED_MODULE_20__["RemoveHTMLPipe"]
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/components/data-table/data-table.component.css":
/*!****************************************************************!*\
  !*** ./src/app/components/data-table/data-table.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-expansion-panel {\n    background-color: #eee;\n    padding: 0;\n}\n\ntable {\n    width: 100%;\n}\n\n.red-border {\n    border: 2px solid #CB0000;\n}\n\n.show-error {\n    color: #CB0000;\n}\n\n.reddd {\n    color: #CB0000;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kYXRhLXRhYmxlL2RhdGEtdGFibGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHNCQUFzQjtJQUN0QixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksY0FBYztBQUNsQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZGF0YS10YWJsZS9kYXRhLXRhYmxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWV4cGFuc2lvbi1wYW5lbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgICBwYWRkaW5nOiAwO1xufVxuXG50YWJsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi5yZWQtYm9yZGVyIHtcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjQ0IwMDAwO1xufVxuXG4uc2hvdy1lcnJvciB7XG4gICAgY29sb3I6ICNDQjAwMDA7XG59XG5cbi5yZWRkZCB7XG4gICAgY29sb3I6ICNDQjAwMDA7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/components/data-table/data-table.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/data-table/data-table.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p *ngIf=\"showError\" class=\"show-error\">{{errMsg}}</p>\n<div class=\"table-data\" [ngClass]=\"showError ? 'red-border' : 'no-border'\">\n  <hot-table class=\"data-table\" [settings]=\"hotSettings\" [hotId]=\"tableID\"></hot-table>\n</div>"

/***/ }),

/***/ "./src/app/components/data-table/data-table.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/data-table/data-table.component.ts ***!
  \***************************************************************/
/*! exports provided: DataTableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataTableComponent", function() { return DataTableComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _handsontable_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @handsontable/angular */ "./node_modules/@handsontable/angular/fesm5/handsontable-angular.js");
/* harmony import */ var _services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/feature-store.service */ "./src/app/services/feature-store.service.ts");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/findIndex */ "./node_modules/lodash/findIndex.js");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/isString */ "./node_modules/lodash/isString.js");
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_5__);
// https://stackoverflow.com/questions/18348437/how-do-i-edit-the-header-text-of-a-handsontable
//  https://jsfiddle.net/websiter/eLdkwju2/






var DataTableComponent = /** @class */ (function () {
    function DataTableComponent(featureStore) {
        this.featureStore = featureStore;
        this.hotRegisterer = new _handsontable_angular__WEBPACK_IMPORTED_MODULE_2__["HotTableRegisterer"]();
        this.errMsg = 'feck';
        this.saveDataInParent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    DataTableComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.hotSettings = {
            // colHeaders: true,
            // data: [['a','b'],['c','d']],
            preventOverflow: 'horizontal',
            colHeaders: true,
            rowHeaders: true,
            startRows: 3,
            startCols: 2,
            stretchH: 'all',
            height: 120,
            contextMenu: [
                'row_above',
                'row_below',
                'remove_row',
                'col_left',
                'col_right',
                'remove_col'
            ],
            afterChange: this.onCellChange.bind(this),
            afterCreateRow: this.onCellChange.bind(this),
            afterRemoveRow: this.onCellChange.bind(this),
            afterRemoveCol: this.onCellChange.bind(this),
            afterCreateCol: this.onCellChange.bind(this),
            afterOnCellMouseDown: this.renameColumn.bind(this)
        };
        if (this.tableDataIn) {
            setTimeout(function () { _this.populateTable(); }, 0);
        }
    };
    // copied from SO 
    // TODO  - make this more Angular
    // called from hot datatable when user clicks on column title and changes the value
    DataTableComponent.prototype.renameColumn = function (hot, event, coords, th) {
        var _this = this;
        if (coords.row === -1) {
            var input_1 = document.createElement('input'), rect_1 = th.getBoundingClientRect(), addListeners_1 = function (events, headers, index) {
                events.split(' ').forEach(function (e) {
                    input_1.addEventListener(e, function () {
                        headers[index] = input_1.value;
                        hot.updateSettings({ colHeaders: headers });
                        _this.onCellChange(hot, true); // save update
                        setTimeout(function () {
                            if (input_1.parentNode)
                                input_1.parentNode.removeChild(input_1);
                        });
                    });
                });
            }, appendInput = function () {
                input_1.setAttribute('type', 'text');
                input_1.style.cssText = '' +
                    'position:absolute;' +
                    'left:' + rect_1.left + 'px;' +
                    'top:' + rect_1.top + 'px;' +
                    'width:' + (rect_1.width - 4) + 'px;' +
                    'height:' + (rect_1.height - 4) + 'px;' +
                    'z-index:1000;' +
                    'background-color:yellow' +
                    'text-align:center';
                document.body.appendChild(input_1);
            };
            input_1.value = th.querySelector('.colHeader').innerText;
            appendInput();
            setTimeout(function () {
                input_1.select();
                addListeners_1('change blur', hot['getColHeader'](), coords['col']);
            });
        }
    };
    // called when hot data table changes
    // calls dataTableUpdate function in Parent GivenWhenThenComponent to update 
    DataTableComponent.prototype.onCellChange = function (hot, changes) {
        // only save if something has changed
        if (!changes) {
            return;
        }
        var dataArray = hot.getData();
        var saveArr = [];
        saveArr.push(hot.getColHeader());
        for (var idx = 0; idx < dataArray.length; idx++) {
            // only save rows which have data
            if (lodash_findIndex__WEBPACK_IMPORTED_MODULE_4___default()(dataArray[idx], function (v) { return lodash_isString__WEBPACK_IMPORTED_MODULE_5___default()(v); }) > -1) {
                saveArr.push(dataArray[idx]);
            }
        }
        // call parent update
        this.saveDataInParent.emit({
            tableDataIdx: this.tableDataIdx,
            dataTableArr: saveArr
        });
    };
    // called from ngOnInit to initialise table with data retrieved from storage
    DataTableComponent.prototype.populateTable = function () {
        if (!this.tableDataIn || this.tableDataIn.length < 1) {
            return;
        }
        this.hot = this.hotRegisterer.getInstance(this.tableID);
        var headers = this.tableDataIn[0].slice();
        var arraySize = headers.length;
        this.hot.updateSettings({ colHeaders: headers }, false);
        if (this.tableDataIn.length > 1) {
            var data = this.tableDataIn.slice();
            data.splice(0, 1);
            // if necessarypad out to 3 lines of data to fill up space in UI
            var size = data.length;
            if (data.length < 3) {
                for (var idx = 1; idx < 3; idx++) {
                    if (!data[idx]) {
                        data[idx] = new Array(arraySize).fill(null);
                    }
                }
            }
            if (data.length > 0) {
                this.hot.loadData(data);
            }
            else {
                this.hot.updateSettings({
                    startRows: 3,
                    startCols: 2,
                }, false);
            }
        }
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
    ], DataTableComponent.prototype, "tableDataIn", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
    ], DataTableComponent.prototype, "tableID", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], DataTableComponent.prototype, "tableDataIdx", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DataTableComponent.prototype, "saveDataInParent", void 0);
    DataTableComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-data-table',
            template: __webpack_require__(/*! ./data-table.component.html */ "./src/app/components/data-table/data-table.component.html"),
            styles: [__webpack_require__(/*! ./data-table.component.css */ "./src/app/components/data-table/data-table.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__["FeatureStoreService"]])
    ], DataTableComponent);
    return DataTableComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog-import/dialog-import.component.css":
/*!**********************************************************************!*\
  !*** ./src/app/components/dialog-import/dialog-import.component.css ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".right-align {\n    text-align: right;\n    float: right;\n}\n\n.spinner {\n    margin: 50px auto;\n}\n\n.spinner-file {\n    margin-left: 64px;\n    margin-bottom: 16px;\n}\n\n.feature-contents {\n    white-space: pre-wrap;\n    font-size: 80%;\n    font-family: 'Courier New', Courier, monospace;\n    color: #999;\n    font-weight: bold;\n    margin-left: 144px;\n}\n\n.showfile-spinner {\n    margin-left: 144px;\n    margin-top: 16px;\n}\n\n.import {\n    flex-shrink: 0;\n    margin-right: 30px;\n    padding: 0 !important;\n    border-radius: 5px !important;\n    padding: 0 !important;\n    height: 34px !important;\n    min-width: 48px;\n    line-height: 24px;\n}\n\n.example-full-width {\n    width: 100%;\n}\n\n.min-height {\n    min-height: 200px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2ctaW1wb3J0L2RpYWxvZy1pbXBvcnQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtJQUNqQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQixjQUFjO0lBQ2QsOENBQThDO0lBQzlDLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLDZCQUE2QjtJQUM3QixxQkFBcUI7SUFDckIsdUJBQXVCO0lBQ3ZCLGVBQWU7SUFDZixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2RpYWxvZy1pbXBvcnQvZGlhbG9nLWltcG9ydC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJpZ2h0LWFsaWduIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBmbG9hdDogcmlnaHQ7XG59XG5cbi5zcGlubmVyIHtcbiAgICBtYXJnaW46IDUwcHggYXV0bztcbn1cblxuLnNwaW5uZXItZmlsZSB7XG4gICAgbWFyZ2luLWxlZnQ6IDY0cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbn1cblxuLmZlYXR1cmUtY29udGVudHMge1xuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICBmb250LXNpemU6IDgwJTtcbiAgICBmb250LWZhbWlseTogJ0NvdXJpZXIgTmV3JywgQ291cmllciwgbW9ub3NwYWNlO1xuICAgIGNvbG9yOiAjOTk5O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIG1hcmdpbi1sZWZ0OiAxNDRweDtcbn1cblxuLnNob3dmaWxlLXNwaW5uZXIge1xuICAgIG1hcmdpbi1sZWZ0OiAxNDRweDtcbiAgICBtYXJnaW4tdG9wOiAxNnB4O1xufVxuXG4uaW1wb3J0IHtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG4gICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweCAhaW1wb3J0YW50O1xuICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgICBoZWlnaHQ6IDM0cHggIWltcG9ydGFudDtcbiAgICBtaW4td2lkdGg6IDQ4cHg7XG4gICAgbGluZS1oZWlnaHQ6IDI0cHg7XG59XG5cbi5leGFtcGxlLWZ1bGwtd2lkdGgge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4ubWluLWhlaWdodCB7XG4gICAgbWluLWhlaWdodDogMjAwcHg7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/components/dialog-import/dialog-import.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/components/dialog-import/dialog-import.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"row\">\n  <div fxFlex=\"260px\" class=\"right\">\n    <h1 mat-dialog-title>{{data.title}}</h1>\n  </div>\n\n  <div fxFlex=\"*\">\n    <mat-form-field appearance=\"standard\" class=\"example-full-width\" *ngIf=\"remoteRepoList && remoteRepoList.length>1\">\n      <mat-label>Select Remote Repository to Import</mat-label>\n\n      <mat-select [(value)]=\"remoteRepo\" (selectionChange)=\"onRepoSelected()\">\n        <mat-option *ngFor=\"let repo of remoteRepoList\" [value]=\"repo\">\n          {{repo.name}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div fxFlex=\"250px\" class=\"right-align\" *ngIf=\"remoteData && remoteData.length>0\">\n    <mat-form-field appearance=\"standard\">\n      <mat-label>Search</mat-label>\n      <input matInput placeholder=\"Placeholder\" [(ngModel)]=\"searchText\">\n      <!-- <mat-icon *ngIf=\"!searchText\" matSuffix>search</mat-icon> -->\n      <button mat-button matSuffix mat-icon-button aria-label=\"Clear\">\n        <mat-icon *ngIf=\"searchText\" (click)=\"searchText=''\">close</mat-icon>\n        <mat-icon *ngIf=\"!searchText\">search</mat-icon>\n      </button>\n    </mat-form-field>\n  </div>\n  \n</div>\n\n<div mat-dialog-content class=\"mat-typography min-height\">\n\n  <div *ngIf=\"!remoteRepoList || showSpinner\">\n    <mat-spinner color=\"warn\" class=\"spinner\"></mat-spinner>\n  </div>\n\n  <mat-list *ngIf=\"remoteData && remoteData.length>0\">\n    <!-- <div fxLayout=\"row\"> -->\n    <div *ngFor=\"let file of remoteData | searchRemote:searchText; let idx=index\">\n\n      <mat-list-item>\n        <button [matTooltip]=\"data.isScenarios ? 'Import this Scenario':'Import this File'\" matListIcon\n          class=\"import red-bg white\" mat-raised-button (click)=\"import(idx)\">\n          <mat-icon>cloud_download</mat-icon>\n        </button>\n        <!-- <mat-icon matListIcon class=\"red-bg white\" (click)=\"import(idx)\">cloud_download</mat-icon> -->\n\n        <mat-icon [matTooltip]=\"data.isScenarios ? 'View this Scenario':'View this File'\"  *ngIf=\"!open[idx]\" matListIcon (click)=\"toggleView(idx)\">search</mat-icon>\n        <mat-icon *ngIf=\"open[idx]\" matListIcon (click)=\"toggleView(idx)\">expand_more</mat-icon>\n        <h3 *ngIf=\"data.isScenarios\" matLine matLine (click)=\"toggleView(idx)\">Scenario:\n          <strong>{{file.scenarioName}}</strong> </h3>\n        <h3 matLine (click)=\"toggleView(idx)\">File Name: <strong>{{file.fileName}}</strong> </h3>\n        <p matLine (click)=\"toggleView(idx)\">Path: {{file.pathName}}</p>\n        <div class=\"showfile-spinner\" *ngIf=\"showDownloadSpinner[idx]\">\n          <mat-spinner diameter=\"50\" class=\"spinner-file\" color=\"warn\"></mat-spinner>\n        </div>\n      </mat-list-item>\n\n\n      <div *ngIf=\"open[idx]\">\n        <p class=\"feature-contents \">{{file.contents}}</p>\n        <div class=\"showfile-spinner\" *ngIf=\"!file.contents\">\n          <mat-spinner diameter=\"50\" class=\"spinner-file\" color=\"warn\"></mat-spinner>\n        </div>\n      </div>\n      <mat-divider></mat-divider>\n\n    </div>\n\n  </mat-list>\n\n\n  <h3 class=\"red-text\" *ngIf=\"errMsg\">\n    {{errMsg}}\n  </h3>\n\n</div>\n\n<div mat-dialog-actions class=\"right-align\">\n  <button mat-button (click)=\"onNoClick()\" cdkFocusInitial>Cancel</button>\n</div>"

/***/ }),

/***/ "./src/app/components/dialog-import/dialog-import.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/dialog-import/dialog-import.component.ts ***!
  \*********************************************************************/
/*! exports provided: DialogImportComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogImportComponent", function() { return DialogImportComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_remote_calls_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/remote-calls.service */ "./src/app/services/remote-calls.service.ts");
/* harmony import */ var _services_featurefile_parser_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/featurefile-parser.service */ "./src/app/services/featurefile-parser.service.ts");
/* harmony import */ var _services_feature_store_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/feature-store.service */ "./src/app/services/feature-store.service.ts");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/findIndex */ "./node_modules/lodash/findIndex.js");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_7__);








var DialogImportComponent = /** @class */ (function () {
    function DialogImportComponent(remoteCalls, dialogRef, featureStore, parserService, data) {
        this.remoteCalls = remoteCalls;
        this.dialogRef = dialogRef;
        this.featureStore = featureStore;
        this.parserService = parserService;
        this.data = data;
        this.showSpinner = false;
        this.showDownloadSpinner = [];
    }
    DialogImportComponent.prototype.ngOnInit = function () {
        this.remoteRepo = this.featureStore.getRemoteRepo();
        this.getRemoteRepos();
    };
    DialogImportComponent.prototype.onRepoSelected = function () {
        this.importRemoteRepo(this.remoteRepo.id);
    };
    // make remote http call to retrieve remote repo data
    DialogImportComponent.prototype.getRemoteRepos = function () {
        var _this = this;
        this.errMsg = '';
        this.remoteCalls.listRemoteRepo()
            .subscribe(function (data) {
            _this.remoteRepoList = data;
            if (_this.remoteRepoList.length === 1) {
                // only one repo go ahead and make the import call
                // no need for user to choose repo
                _this.remoteRepo = _this.remoteRepoList[0];
                return _this.importRemoteRepo(_this.remoteRepoList[0].id);
            }
            // if called from Remote- Import Remote stop here
            // and wait for repo selection
            if (_this.data.isImportRemote)
                return;
            // if there is current repo loaded, try and find it and import
            if (_this.remoteRepo && _this.remoteRepo.id) {
                var repoNum = lodash_findIndex__WEBPACK_IMPORTED_MODULE_6___default()(_this.remoteRepoList, _this.remoteRepo);
                if (repoNum > -1) {
                    _this.remoteRepo = _this.remoteRepoList[repoNum];
                    _this.importRemoteRepo(_this.remoteRepo.id);
                }
            }
        }, function (err) {
            _this.remoteRepoList = [];
            console.error('Error getting listof remote Repos ', err);
            _this.errMsg = 'Error retrieving list of remote Repos';
        });
    };
    // make remote http call to retrieve remote repo data
    DialogImportComponent.prototype.importRemoteRepo = function (repoId) {
        var _this = this;
        this.errMsg = '';
        this.remoteData = [];
        this.showSpinner = true;
        this.remoteCalls.importRemoteRepo(repoId)
            .subscribe(function (data) {
            _this.stepStatements = {
                givenStatements: data.givenSteps,
                whenStatements: data.whenSteps,
                thenStatements: data.thenSteps,
            };
            // add path names
            _this.remotePaths = lodash_uniq__WEBPACK_IMPORTED_MODULE_7___default()(data.featureFiles.map(function (ff) { return ff.pathName; }));
            // handle Remote- Import Remote option - straight import, close dialog and retutn data
            if (_this.data.isImportRemote) {
                var noSave_1 = -1;
                setTimeout(function () {
                    //timeout to show spinner before closing so user knows something happened
                    _this.showSpinner = false;
                    return _this.doImport(noSave_1);
                }, 500);
            }
            else {
                _this.showSpinner = false;
                // initialise download spinners
                _this.showDownloadSpinner = Array(_this.remoteData.length).fill(false);
                // handle scerios vs files
                if (_this.data.isScenarios) {
                    _this.remoteData = data.scenarios;
                }
                else {
                    _this.remoteData = data.featureFiles;
                }
                _this.open = Array(_this.remoteData.length).fill(false);
            }
        }, function (err) {
            _this.showSpinner = false;
            _this.remoteData = [];
            console.error('Error importing remote project details ', err);
            _this.errMsg = 'Error: unable to retrieve remote Feature Files';
        });
    };
    // close dialog after import complete
    DialogImportComponent.prototype.doImport = function (idx) {
        if (this.data.isScenarios) {
            return this.dialogRef.close({
                scenario: this.remoteData[idx].contents
            });
        }
        this.dialogRef.close({
            featureFile: idx >= 0 ? this.remoteData[idx] : null,
            stepStatements: this.stepStatements,
            remotePaths: this.remotePaths,
            remoteRepo: this.remoteRepo
        });
    };
    // called from html, 
    // calls importFeatureFile to make remote http call and supplys function reference
    // to doImport which closes dialog when import complete
    DialogImportComponent.prototype.import = function (idx) {
        this.showDownloadSpinner[idx] = true;
        this.errMsg = '';
        this.importFeatureFile(idx, this.doImport.bind(this));
    };
    // imports a specific feature file from remote repo if it hasn't already been downloaded
    DialogImportComponent.prototype.importFeatureFile = function (idx, cbFn) {
        var _this = this;
        this.errMsg = '';
        if (this.remoteData[idx].contents) {
            // already have contents
            return cbFn ? cbFn(idx) : null;
        }
        this.remoteCalls.getFeatureFile(this.remoteData[idx].fileName, this.remoteData[idx].pathName, this.remoteRepo.id)
            .subscribe(function (fileText) {
            if (_this.data.isScenarios) {
                _this.showDownloadSpinner[idx] = false;
                _this.remoteData[idx].contents = _this.extractScenario(fileText, _this.remoteData[idx].scenarioName);
            }
            else {
                _this.remoteData[idx].contents = fileText;
            }
            return cbFn ? cbFn(idx) : null;
        }, function (err) {
            _this.showDownloadSpinner[idx] = false;
            console.error('Error getting featurefile text', err);
            _this.errMsg = 'Error getting feature file text';
        });
    };
    // extracts specific scenario from imported feature file text
    DialogImportComponent.prototype.extractScenario = function (fileText, scenarioTitle) {
        return this.parserService.extractScenario(fileText, scenarioTitle);
    };
    // called from html to expand or close a listed feature file or scenario
    // calls importFeatureFile to download feature file if necessary
    DialogImportComponent.prototype.toggleView = function (idx) {
        this.importFeatureFile(idx);
        var currentVal = this.open[idx];
        this.open = Array(this.remoteData.length).fill(false);
        this.open[idx] = !currentVal;
    };
    //cancels dialog
    DialogImportComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogImportComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-dialog-import',
            template: __webpack_require__(/*! ./dialog-import.component.html */ "./src/app/components/dialog-import/dialog-import.component.html"),
            styles: [__webpack_require__(/*! ./dialog-import.component.css */ "./src/app/components/dialog-import/dialog-import.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_remote_calls_service__WEBPACK_IMPORTED_MODULE_3__["RemoteCallsService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"],
            _services_feature_store_service__WEBPACK_IMPORTED_MODULE_5__["FeatureStoreService"],
            _services_featurefile_parser_service__WEBPACK_IMPORTED_MODULE_4__["FeatureFileParserService"], Object])
    ], DialogImportComponent);
    return DialogImportComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog-remote/dialog-remote.component.css":
/*!**********************************************************************!*\
  !*** ./src/app/components/dialog-remote/dialog-remote.component.css ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".right-align {\n    text-align: right;\n    float: right;\n}\n\n.spinner {\n    margin: 50px auto;\n}\n\n.spinner-file {\n    margin-left: 64px;\n    margin-bottom: 16px;\n}\n\n.feature-contents {\n    white-space: pre-wrap;\n    font-size: 80%;\n    font-family: 'Courier New', Courier, monospace;\n    color: #999;\n    font-weight: bold;\n    margin-left: 144px;\n}\n\n.showfile-spinner {\n    margin-left: 144px;\n    margin-top: 16px;\n}\n\n.import {\n    flex-shrink: 0;\n    margin-right: 30px;\n    padding: 0 !important;\n    border-radius: 5px !important;\n    padding: 0 !important;\n    height: 34px !important;\n    min-width: 48px;\n    line-height: 24px;\n}\n\n.example-full-width {\n    width: 100%;\n}\n\n.min-height {\n    min-height: 200px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2ctcmVtb3RlL2RpYWxvZy1yZW1vdGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtJQUNqQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQixjQUFjO0lBQ2QsOENBQThDO0lBQzlDLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLDZCQUE2QjtJQUM3QixxQkFBcUI7SUFDckIsdUJBQXVCO0lBQ3ZCLGVBQWU7SUFDZixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2RpYWxvZy1yZW1vdGUvZGlhbG9nLXJlbW90ZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJpZ2h0LWFsaWduIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBmbG9hdDogcmlnaHQ7XG59XG5cbi5zcGlubmVyIHtcbiAgICBtYXJnaW46IDUwcHggYXV0bztcbn1cblxuLnNwaW5uZXItZmlsZSB7XG4gICAgbWFyZ2luLWxlZnQ6IDY0cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbn1cblxuLmZlYXR1cmUtY29udGVudHMge1xuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICBmb250LXNpemU6IDgwJTtcbiAgICBmb250LWZhbWlseTogJ0NvdXJpZXIgTmV3JywgQ291cmllciwgbW9ub3NwYWNlO1xuICAgIGNvbG9yOiAjOTk5O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIG1hcmdpbi1sZWZ0OiAxNDRweDtcbn1cblxuLnNob3dmaWxlLXNwaW5uZXIge1xuICAgIG1hcmdpbi1sZWZ0OiAxNDRweDtcbiAgICBtYXJnaW4tdG9wOiAxNnB4O1xufVxuXG4uaW1wb3J0IHtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG4gICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweCAhaW1wb3J0YW50O1xuICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgICBoZWlnaHQ6IDM0cHggIWltcG9ydGFudDtcbiAgICBtaW4td2lkdGg6IDQ4cHg7XG4gICAgbGluZS1oZWlnaHQ6IDI0cHg7XG59XG5cbi5leGFtcGxlLWZ1bGwtd2lkdGgge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4ubWluLWhlaWdodCB7XG4gICAgbWluLWhlaWdodDogMjAwcHg7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/components/dialog-remote/dialog-remote.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/components/dialog-remote/dialog-remote.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div fxLayout=\"row\">\n  <div fxFlex=\"*\" class=\"right\">\n    <h1 mat-dialog-title>{{data.title}}</h1>\n  </div>\n\n\n  <div fxFlex=\"250px\" class=\"right-align\" *ngIf=\"remoteRepoList && remoteRepoList.length>0\">\n    <mat-form-field appearance=\"standard\">\n      <mat-label>Search</mat-label>\n      <input matInput placeholder=\"Placeholder\" [(ngModel)]=\"searchText\">\n      <!-- <mat-icon *ngIf=\"!searchText\" matSuffix>search</mat-icon> -->\n      <button mat-button matSuffix mat-icon-button aria-label=\"Clear\">\n        <mat-icon *ngIf=\"searchText\" (click)=\"searchText=''\">close</mat-icon>\n        <mat-icon *ngIf=\"!searchText\">search</mat-icon>\n      </button>\n    </mat-form-field>\n  </div>\n  \n</div>\n\n<div mat-dialog-content class=\"mat-typography min-height\">\n\n  <div *ngIf=\"!remoteRepoList || showSpinner\">\n    <mat-spinner color=\"warn\" class=\"spinner\"></mat-spinner>\n  </div>\n\n  <mat-list *ngIf=\"remoteRepoList && remoteRepoList.length>0\">\n    <!-- <div fxLayout=\"row\"> -->\n    <div *ngFor=\"let repo of remoteRepoList | searchRepo:searchText; let idx=index\">\n\n      <mat-list-item (click)=\"importRemoteRepo(repo.id, idx)\">\n        <button [matTooltip]=\"'Import Steps form this Remote Repo'\" matListIcon\n          class=\"import red-bg white\" mat-raised-button >\n          <mat-icon>cloud_download</mat-icon>\n        </button>\n\n        <h3 matLine ><strong>{{repo.name}}</strong> </h3>\n        <div class=\"showfile-spinner\" *ngIf=\"showDownloadSpinner[idx]\">\n            <mat-spinner diameter=\"36\" class=\"spinner-file\" color=\"warn\"></mat-spinner>\n        </div>\n      </mat-list-item>\n\n      <mat-divider></mat-divider>\n\n    </div>\n\n  </mat-list>\n\n\n  <h3 class=\"red-text\" *ngIf=\"errMsg\">\n    {{errMsg}}\n  </h3>\n\n</div>\n\n<div mat-dialog-actions class=\"right-align\">\n  <button mat-button (click)=\"onNoClick()\" cdkFocusInitial>Cancel</button>\n</div>"

/***/ }),

/***/ "./src/app/components/dialog-remote/dialog-remote.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/dialog-remote/dialog-remote.component.ts ***!
  \*********************************************************************/
/*! exports provided: DialogRemoteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogRemoteComponent", function() { return DialogRemoteComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_remote_calls_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/remote-calls.service */ "./src/app/services/remote-calls.service.ts");
/* harmony import */ var _services_featurefile_parser_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/featurefile-parser.service */ "./src/app/services/featurefile-parser.service.ts");
/* harmony import */ var _services_feature_store_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/feature-store.service */ "./src/app/services/feature-store.service.ts");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_6__);







var DialogRemoteComponent = /** @class */ (function () {
    function DialogRemoteComponent(remoteCalls, dialogRef, featureStore, parserService, data) {
        this.remoteCalls = remoteCalls;
        this.dialogRef = dialogRef;
        this.featureStore = featureStore;
        this.parserService = parserService;
        this.data = data;
        this.showSpinner = false;
        this.showDownloadSpinner = [];
    }
    DialogRemoteComponent.prototype.ngOnInit = function () {
        this.remoteRepo = this.featureStore.getRemoteRepo();
        this.getRemoteRepos();
    };
    // make remote http call to retrieve remote repo data
    DialogRemoteComponent.prototype.getRemoteRepos = function () {
        var _this = this;
        this.errMsg = '';
        this.showSpinner = true;
        this.remoteCalls.listRemoteRepo()
            .subscribe(function (data) {
            _this.remoteRepoList = data;
            _this.showDownloadSpinner = Array(_this.remoteRepoList.length).fill(false);
            _this.showSpinner = false;
        }, function (err) {
            _this.remoteRepoList = [];
            _this.showDownloadSpinner = [];
            console.error('Error getting listof remote Repos ', err);
            _this.errMsg = 'Error retrieving list of remote Repos';
            _this.showSpinner = false;
        });
    };
    // make remote http call to retrieve remote repo data
    DialogRemoteComponent.prototype.importRemoteRepo = function (repoId, idx) {
        var _this = this;
        this.errMsg = '';
        this.showDownloadSpinner[idx] = true;
        this.remoteCalls.importRemoteRepo(repoId)
            .subscribe(function (data) {
            _this.stepStatements = {
                givenStatements: data.givenSteps,
                whenStatements: data.whenSteps,
                thenStatements: data.thenSteps,
            };
            // add path names
            _this.remotePaths = lodash_uniq__WEBPACK_IMPORTED_MODULE_6___default()(data.featureFiles.map(function (ff) { return ff.pathName; }));
            _this.remoteRepo = _this.remoteRepoList[idx];
            setTimeout(function () {
                //timeout to show spinner before closing so user knows something happened
                return _this.dialogRef.close({
                    stepStatements: _this.stepStatements,
                    remotePaths: _this.remotePaths,
                    remoteRepo: _this.remoteRepo
                });
            }, 500);
        }, function (err) {
            _this.showDownloadSpinner[idx] = false;
            console.error('Error importing remote project details ', err);
            _this.errMsg = 'Error: unable to retrieve remote Feature Files';
        });
    };
    //cancels dialog
    DialogRemoteComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogRemoteComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-dialog-remote',
            template: __webpack_require__(/*! ./dialog-remote.component.html */ "./src/app/components/dialog-remote/dialog-remote.component.html"),
            styles: [__webpack_require__(/*! ./dialog-remote.component.css */ "./src/app/components/dialog-remote/dialog-remote.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_remote_calls_service__WEBPACK_IMPORTED_MODULE_3__["RemoteCallsService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"],
            _services_feature_store_service__WEBPACK_IMPORTED_MODULE_5__["FeatureStoreService"],
            _services_featurefile_parser_service__WEBPACK_IMPORTED_MODULE_4__["FeatureFileParserService"], Object])
    ], DialogRemoteComponent);
    return DialogRemoteComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog-table/dialog-table.component.css":
/*!********************************************************************!*\
  !*** ./src/app/components/dialog-table/dialog-table.component.css ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".right-align {\n    margin-top: 32px;\n    text-align: right;\n}\n\n.example-radio-group {\n    display: inline-flex;\n    flex-direction: column;\n}\n\n.example-radio-button {\n    margin: 5px;\n}\n\n.example-selected-value {\n    margin: 15px 0;\n}\n\n.margins-buttons button,\n.margins-buttons a {\n    margin-right: 8px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2ctdGFibGUvZGlhbG9nLXRhYmxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksb0JBQW9CO0lBQ3BCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7O0lBRUksaUJBQWlCO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2ctdGFibGUvZGlhbG9nLXRhYmxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmlnaHQtYWxpZ24ge1xuICAgIG1hcmdpbi10b3A6IDMycHg7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5leGFtcGxlLXJhZGlvLWdyb3VwIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4uZXhhbXBsZS1yYWRpby1idXR0b24ge1xuICAgIG1hcmdpbjogNXB4O1xufVxuXG4uZXhhbXBsZS1zZWxlY3RlZC12YWx1ZSB7XG4gICAgbWFyZ2luOiAxNXB4IDA7XG59XG5cbi5tYXJnaW5zLWJ1dHRvbnMgYnV0dG9uLFxuLm1hcmdpbnMtYnV0dG9ucyBhIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/dialog-table/dialog-table.component.html":
/*!*********************************************************************!*\
  !*** ./src/app/components/dialog-table/dialog-table.component.html ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h2 mat-dialog-title>Update Table Columns</h2>\n\n<div class=\"margins-buttons\">\n  <h3 *ngIf=\"showRename\">Rename Existing</h3>\n  <div *ngIf=\"!showRename\">\n    <button  color=\"primary\" mat-stroked-button (click)=\"showRename=true\">\n      Rename Existing Column\n    </button>\n    <span> or </span>\n    <button *ngIf=\"!showRename\" color=\"primary\" mat-stroked-button (click)=\"insertColumn()\">\n      Insert New Column\n      </button>\n  </div>\n</div>\n\n<div *ngIf=\"showRename\">\n  <p>Choose which Column to rename to \"{{data.name}}\"</p>\n  <mat-radio-group class=\"example-radio-group\" [(ngModel)]=\"colName\">\n    <mat-radio-button class=\"example-radio-button\" *ngFor=\"let rename of data.colNames; let idx=index\" [value]=\"rename\"\n      (change)=\"onNameSelected(idx)\">\n      <span [ngClass]=\"rename.indexOf('<b>')>-1 ? 'red-text' : ''\">{{rename | removeHTML}}</span>\n    </mat-radio-button>\n  </mat-radio-group>\n</div>\n\n<div class=\"right-align\">\n  <button color=\"warn\" mat-button (click)=\"onNoClick()\">Cancel</button>\n</div>"

/***/ }),

/***/ "./src/app/components/dialog-table/dialog-table.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/components/dialog-table/dialog-table.component.ts ***!
  \*******************************************************************/
/*! exports provided: DialogTableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogTableComponent", function() { return DialogTableComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");




var DialogTableComponent = /** @class */ (function () {
    function DialogTableComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.fileName = '';
        this.showYesNo = false;
        this.showOKCancel = false;
        this.actions = ['Rename Existing Column', 'Insert New Column'];
        this.colName = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required);
    }
    DialogTableComponent.prototype.onNameSelected = function (colIdx) {
        this.dialogRef.close({ colIdx: colIdx });
    };
    DialogTableComponent.prototype.insertColumn = function () {
        this.dialogRef.close("insert");
    };
    DialogTableComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    DialogTableComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-dialog-table',
            template: __webpack_require__(/*! ./dialog-table.component.html */ "./src/app/components/dialog-table/dialog-table.component.html"),
            styles: [__webpack_require__(/*! ./dialog-table.component.css */ "./src/app/components/dialog-table/dialog-table.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object])
    ], DialogTableComponent);
    return DialogTableComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog/dialog.component.css":
/*!********************************************************!*\
  !*** ./src/app/components/dialog/dialog.component.css ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".right-align {\n    text-align: right;\n    float: right;\n}\n\n.pre-wrap {\n    white-space: pre-wrap;\n    font-size: 80%\n}\n\nform {\n    margin-bottom: 2em;\n    font-size: 120%;\n}\n\n.example-full-width {\n    width: 100%;\n}\n\n.mat-hint{\n    color: #999;\n}\n\n.fixed-font {\n    font-family: 'Courier New', Courier, monospace;\n    color: black;\n    font-weight: bold;\n}\n\n.spinner {\n    margin: 0 auto 16px;\n}\n\n.mat-option {\n    height: 22px;\n    line-height: 22px;\n    font-size: 12px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvZGlhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQjtBQUNKOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSw4Q0FBOEM7SUFDOUMsWUFBWTtJQUNaLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsZUFBZTtBQUNuQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZGlhbG9nL2RpYWxvZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJpZ2h0LWFsaWduIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBmbG9hdDogcmlnaHQ7XG59XG5cbi5wcmUtd3JhcCB7XG4gICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgIGZvbnQtc2l6ZTogODAlXG59XG5cbmZvcm0ge1xuICAgIG1hcmdpbi1ib3R0b206IDJlbTtcbiAgICBmb250LXNpemU6IDEyMCU7XG59XG5cbi5leGFtcGxlLWZ1bGwtd2lkdGgge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4ubWF0LWhpbnR7XG4gICAgY29sb3I6ICM5OTk7XG59XG5cbi5maXhlZC1mb250IHtcbiAgICBmb250LWZhbWlseTogJ0NvdXJpZXIgTmV3JywgQ291cmllciwgbW9ub3NwYWNlO1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnNwaW5uZXIge1xuICAgIG1hcmdpbjogMCBhdXRvIDE2cHg7XG59XG5cbi5tYXQtb3B0aW9uIHtcbiAgICBoZWlnaHQ6IDIycHg7XG4gICAgbGluZS1oZWlnaHQ6IDIycHg7XG4gICAgZm9udC1zaXplOiAxMnB4O1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/components/dialog/dialog.component.html":
/*!*********************************************************!*\
  !*** ./src/app/components/dialog/dialog.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1 mat-dialog-title>{{data.title}}</h1>\n\n<div mat-dialog-content class=\"mat-typography\">\n\n  <p [ngClass]=\"data.message.indexOf('Error')>-1?'red-text':''\"\n    *ngIf=\"data.message  && data.message!=='Enter File Name'\">{{data.message}}</p>\n\n  <form class=\"example-form\" *ngIf=\"data.message==='Enter File Name'\">\n    <mat-form-field class=\"example-form-field example-full-width\">\n      <input matInput type=\"text\" placeholder=\"File Name\" [(ngModel)]=\"data.fileName\" name=\"fileName\" (change)=\"addFeature('fileName');removeSpaces('fileName')\">\n      <mat-hint color=\"primary\" align=\"start\" *ngIf=\"data.title.indexOf('Local')>-1\">\n        <strong>\n          Enter File Name for save.\n          <span>File will be exported to Browser Downloads folder as &lt;file name&gt;.feature</span>\n        </strong>\n      </mat-hint>\n      <button mat-button *ngIf=\"data.fileName\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"data.fileName=''\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </mat-form-field>\n\n    <mat-form-field class=\"example-form-field example-full-width\" *ngIf=\"data.title.indexOf('Remote')>-1\">\n      <input matInput [matAutocomplete]=\"auto\" type=\"text\" [(ngModel)]=\"data.pathName\" name=\"pathName\"\n        #trigger=\"matAutocompleteTrigger\" placeholder=\"Remote Path Name\" (ngModelChange)=\"removeSpaces('pathName')\"\n        (keydown.enter)=\"$event.target.blur(); trigger.closePanel()\">\n\n      <mat-autocomplete #auto=\"matAutocomplete\">\n        <mat-option *ngFor=\"let path of remotePathNames\" [value]=\"path\">\n          {{path}}\n        </mat-option>\n      </mat-autocomplete>\n\n      <button mat-button *ngIf=\"data.pathName\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"data.pathName=''\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </mat-form-field>\n\n\n\n  </form>\n\n  <p *ngIf=\"data.featureFile\" class=\"pre-wrap fixed-font\">{{data.featureFile}}</p>\n\n  <div *ngIf=\"data.message==='Saving...'\">\n    <mat-spinner class=\"spinner\" color=\"warn\"></mat-spinner>\n  </div>\n</div>\n\n<div mat-dialog-actions class=\"right-align\">\n  <button mat-button *ngIf=\"showYesNo\" (click)=\"onNoClick()\">No</button>\n  <button mat-button *ngIf=\"showYesNo\" color=\"warn\" [mat-dialog-close]=\"true\" cdkFocusInitial>Yes</button>\n\n  <button mat-button *ngIf=\"showOK\" [mat-dialog-close]=\"true\" cdkFocusInitial>OK</button>\n\n  <button mat-button *ngIf=\"data.message==='Enter File Name' || data.message==='Saving...'\"\n    (click)=\"onNoClick()\">Cancel</button>\n\n  <button mat-button\n    [disabled]=\"(!data.fileName && data.title.indexOf('Local')>-1) || (!data.fileName || !data.pathName && data.title.indexOf('Remote')>-1)\"\n    *ngIf=\"data.message==='Enter File Name'\" [mat-dialog-close]=\"{fileName:data.fileName, pathName:data.pathName}\"\n    cdkFocusInitial>\n    OK\n  </button>\n\n</div>"

/***/ }),

/***/ "./src/app/components/dialog/dialog.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/dialog/dialog.component.ts ***!
  \*******************************************************/
/*! exports provided: DialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogComponent", function() { return DialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/feature-store.service */ "./src/app/services/feature-store.service.ts");




var DialogComponent = /** @class */ (function () {
    function DialogComponent(dialogRef, featureStore, data) {
        this.dialogRef = dialogRef;
        this.featureStore = featureStore;
        this.data = data;
        this.fileName = '';
        this.showYesNo = false;
        this.showOKCancel = false;
        this.showOK = false;
        // TODO too messy, refactor this
        this.showOK = (data.featureFile ||
            data.title === "Error Reading Feature File" ||
            data.title.indexOf('File Save') > -1 ||
            data.message === 'Error: Unable to Save FeatureFile') && (data.message !== "Enter File Name" &&
            data.message !== 'Saving...');
        this.showYesNo = data.message &&
            data.message !== 'Enter File Name' &&
            data.message.indexOf('Error') < 0 &&
            data.message !== 'Saving...' &&
            data.message !== 'Error: Unable to Save FeatureFile' &&
            data.title !== "Error Reading Feature File";
        if (data.title.indexOf('Remote') > -1) {
            this.remotePathNames = this.featureStore.getRemotePaths();
        }
    }
    DialogComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    // TODO regex to make sure filename / pathnames are valid
    DialogComponent.prototype.removeSpaces = function (field) {
        this.data[field] = this.data[field].replace(/\s/g, '');
    };
    DialogComponent.prototype.addFeature = function (field) {
        this.data[field] = this.data[field].replace(/.feature/g, '') + '.feature';
    };
    DialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-dialog',
            template: __webpack_require__(/*! ./dialog.component.html */ "./src/app/components/dialog/dialog.component.html"),
            styles: [__webpack_require__(/*! ./dialog.component.css */ "./src/app/components/dialog/dialog.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"],
            _services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__["FeatureStoreService"], Object])
    ], DialogComponent);
    return DialogComponent;
}());



/***/ }),

/***/ "./src/app/components/example-table/example-table.component.css":
/*!**********************************************************************!*\
  !*** ./src/app/components/example-table/example-table.component.css ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-expansion-panel {\n    background-color: #eee;\n    padding: 0;\n}\n\ntable {\n    width: 100%;\n}\n\n.red-border {\n    border: 2px solid #CB0000;\n}\n\n.show-error {\n    color: #CB0000;\n}\n\n.reddd {\n    color: #CB0000;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9leGFtcGxlLXRhYmxlL2V4YW1wbGUtdGFibGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHNCQUFzQjtJQUN0QixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksY0FBYztBQUNsQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZXhhbXBsZS10YWJsZS9leGFtcGxlLXRhYmxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWV4cGFuc2lvbi1wYW5lbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgICBwYWRkaW5nOiAwO1xufVxuXG50YWJsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi5yZWQtYm9yZGVyIHtcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjQ0IwMDAwO1xufVxuXG4uc2hvdy1lcnJvciB7XG4gICAgY29sb3I6ICNDQjAwMDA7XG59XG5cbi5yZWRkZCB7XG4gICAgY29sb3I6ICNDQjAwMDA7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/components/example-table/example-table.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/components/example-table/example-table.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <button color=\"accent\" mat-raised-button (click)=\"test()\">\n    cmon\n  </button> -->\n<p *ngIf=\"errMsg\" class=\"show-error\">{{errMsg}}</p>\n<div class=\"table-height\" [ngClass]=\"showError ? 'red-border' : 'no-border'\">\n  <hot-table class=\"mat-elevation-z2\" [settings]=\"hotSettings\" [hotId]=\"id\"></hot-table>\n</div>"

/***/ }),

/***/ "./src/app/components/example-table/example-table.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/example-table/example-table.component.ts ***!
  \*********************************************************************/
/*! exports provided: ExampleTableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExampleTableComponent", function() { return ExampleTableComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _handsontable_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @handsontable/angular */ "./node_modules/@handsontable/angular/fesm5/handsontable-angular.js");
/* harmony import */ var _services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/feature-store.service */ "./src/app/services/feature-store.service.ts");
/* harmony import */ var _services_util_functions_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/util-functions.service */ "./src/app/services/util-functions.service.ts");
/* harmony import */ var _pipes_remove_html_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../pipes/remove-html.pipe */ "./src/app/pipes/remove-html.pipe.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/map */ "./node_modules/lodash/map.js");
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_isArray__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/isArray */ "./node_modules/lodash/isArray.js");
/* harmony import */ var lodash_isArray__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_isArray__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/findIndex */ "./node_modules/lodash/findIndex.js");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/isString */ "./node_modules/lodash/isString.js");
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_10__);











var ExampleTableComponent = /** @class */ (function () {
    function ExampleTableComponent(featureStore, utils, dialog, removeHTML) {
        this.featureStore = featureStore;
        this.utils = utils;
        this.dialog = dialog;
        this.removeHTML = removeHTML;
        this.panelOpenState = false;
        this.dataSource = [];
        this.hotRegisterer = new _handsontable_angular__WEBPACK_IMPORTED_MODULE_2__["HotTableRegisterer"]();
        this.errMsg = '';
        this.updateExTableParent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ExampleTableComponent.prototype.ngOnInit = function () {
        this.id = "exampleTable" + this.scenarioIdx;
        this.colNames = this.featureStore.getVars(this.scenarioIdx);
        this.hotSettings = {
            // colHeaders: true,
            data: null,
            preventOverflow: 'horizontal',
            colHeaders: this.colNames.slice(),
            rowHeaders: true,
            startRows: 5,
            startCols: this.colNames.length,
            stretchH: 'all',
            height: 160,
            contextMenu: [
                'row_above',
                'row_below',
                'remove_row',
                // 'col_left',
                // 'col_right',
                'remove_col'
            ],
            afterChange: this.onCellChange.bind(this),
            afterCreateRow: this.onCellChange.bind(this),
            afterRemoveRow: this.onCellChange.bind(this),
            afterRemoveCol: this.onColDelete.bind(this),
        };
        console.log('INIT EXAMPLE TABLE ');
    };
    //called from parent scenario to turn on errors
    ExampleTableComponent.prototype.displayError = function (errMsg) {
        this.errMsg = errMsg;
    };
    ExampleTableComponent.prototype.hideError = function () {
        this.errMsg = '';
    };
    //called from parent scenario to remove data and reset table
    ExampleTableComponent.prototype.resetData = function () {
        this.errMsg = '';
        this.hot = this.hotRegisterer.getInstance(this.id);
        if (this.hot) {
            this.hot.updateSettings(this.hotSettings, true);
        }
    };
    // called from parent scenario to initialise table with new data retrieved from storage
    ExampleTableComponent.prototype.populateTable = function () {
        this.hot = this.hotRegisterer.getInstance(this.id);
        var data = this.featureStore.getExamples(this.scenarioIdx).slice();
        data.splice(0, 1); // remove colnames row
        if (data && data[0] && lodash_isArray__WEBPACK_IMPORTED_MODULE_8___default()(data[0]) && this.hot) {
            this.hot.loadData(data);
        }
    };
    // called when data in table body is changed, persists changes to storage
    ExampleTableComponent.prototype.onCellChange = function (hot, changes) {
        // only save if something has changed
        if (!changes) {
            return;
        }
        var dataArray = hot.getData();
        var saveArr = [];
        for (var idx = 0; idx < dataArray.length; idx++) {
            // only save rows which have data
            if (lodash_findIndex__WEBPACK_IMPORTED_MODULE_9___default()(dataArray[idx], function (v) { return lodash_isString__WEBPACK_IMPORTED_MODULE_10___default()(v); }) > -1) {
                saveArr.push(dataArray[idx]);
            }
        }
        // if error message is viisble, turn it off when all cells are valid
        // if (this.showError && this.utils.isNoEmptyCells(saveArr)) {
        //   this.showError = false;
        // }
        // this.featureStore.setExamples(saveArr, this.scenarioIdx);
        this.saveTable(saveArr, hot.getColHeader());
    };
    // called when table column is deleted, perists change to storage
    // calls to parent to notify that Example Table has changed
    ExampleTableComponent.prototype.onColDelete = function (hot, idx, amount, deleteCols) {
        var _this = this;
        this.errMsg = '';
        this.colNames.splice(idx, amount);
        setTimeout(function () {
            hot.updateSettings({ colHeaders: _this.colNames.slice() }, true);
            // this.featureStore.setExamples(hot.getData(), this.scenarioIdx);
            _this.saveTable(hot.getData(), _this.hot.getColHeader());
            _this.updateExTableParent.emit("deleteCol");
        }, 0);
    };
    ExampleTableComponent.prototype.saveTable = function (dataTable, colNames) {
        var _this = this;
        var _dataTable = [lodash_map__WEBPACK_IMPORTED_MODULE_7___default()(colNames, function (n) { return _this.removeHTML.transform(n); })].concat(dataTable);
        this.featureStore.setExamples(_dataTable, this.scenarioIdx);
    };
    // called from parent scenatio to insert Column into example table
    ExampleTableComponent.prototype.insertCol = function (idx, varName) {
        var _this = this;
        this.errMsg = '';
        this.hot = this.hotRegisterer.getInstance(this.id);
        this.colNames = this.hot.getColHeader();
        this.hot.alter('insert_col', idx, 1);
        setTimeout(function () {
            _this.colNames.splice(idx, 0, varName);
            _this.hot.updateSettings({ colHeaders: _this.colNames.slice() }, false);
            // this.featureStore.setExamples(this.hot.getData(), this.scenarioIdx)
            _this.saveTable(_this.hot.getData(), _this.hot.getColHeader());
            _this.updateExTableParent.emit("insertCol");
        }, 50);
    };
    // called from parent scenatio to rename existing in example table
    ExampleTableComponent.prototype.renameCol = function (idx, newName) {
        this.errMsg = '';
        this.hot = this.hotRegisterer.getInstance(this.id);
        this.colNames[idx] = newName;
        this.hot.updateSettings({ colHeaders: this.colNames.slice() }, false);
        this.saveTable(this.hot.getData(), this.hot.getColHeader());
    };
    // called from parent scenatio to get list of column names
    ExampleTableComponent.prototype.getColNames = function () {
        this.hot = this.hotRegisterer.getInstance(this.id);
        return this.hot ? this.hot.getColHeader() : null;
    };
    // called from parent scenatio highlights column names in red to indicate mismatch with Vars array in parent scenario
    ExampleTableComponent.prototype.highlightCols = function (colNames) {
        var _this = this;
        this.hot = this.hotRegisterer.getInstance(this.id);
        var highlightHeaders = lodash_map__WEBPACK_IMPORTED_MODULE_7___default()(this.hot.getColHeader(), function (colName) {
            if (colNames.indexOf(colName) > -1) {
                if (colName.indexOf('<b>') > -1 && colName.indexOf('</b>') > -1) {
                    // already highlighted
                    return colName;
                }
                return "<span class=\"red-text\"><b>" + colName + "</b></span>";
            }
            return colName;
        });
        var colNamesNoHTML = lodash_map__WEBPACK_IMPORTED_MODULE_7___default()(colNames, function (col) { return " \"" + _this.removeHTML.transform(col) + "\""; });
        this.errMsg = "Error, Column " + (colNames.length > 1 ? 'names' : 'name') + " " + colNamesNoHTML.slice() + " " + (colNames.length > 1 ? 'do' : 'does') + " not match <???> tags above.  Click on tag above to resolve.";
        this.hot.updateSettings({ colHeaders: highlightHeaders }, false);
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], ExampleTableComponent.prototype, "scenarioIdx", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ExampleTableComponent.prototype, "updateExTableParent", void 0);
    ExampleTableComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-example-table',
            template: __webpack_require__(/*! ./example-table.component.html */ "./src/app/components/example-table/example-table.component.html"),
            styles: [__webpack_require__(/*! ./example-table.component.css */ "./src/app/components/example-table/example-table.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__["FeatureStoreService"],
            _services_util_functions_service__WEBPACK_IMPORTED_MODULE_4__["UtilFunctionsService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatDialog"],
            _pipes_remove_html_pipe__WEBPACK_IMPORTED_MODULE_5__["RemoveHTMLPipe"]])
    ], ExampleTableComponent);
    return ExampleTableComponent;
}());



/***/ }),

/***/ "./src/app/components/given-when-then/given-when-then.component.css":
/*!**************************************************************************!*\
  !*** ./src/app/components/given-when-then/given-when-then.component.css ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".example-full-width {\n    width: 100%;\n}\n\n.mat-card {\n    margin: 8px 0;\n    background-color: #eee;\n    padding: 0;\n}\n\n.right {\n    text-align: right;\n    padding-right: 16px;\n}\n\n.mat-mini-fab {\n    margin-top: 8px;\n}\n\n.mat-option {\n    height: 22px;\n    line-height: 22px;\n    font-size: 12px;\n}\n\n.align-right {\n    float: right;\n    margin-top: 8px;\n}\n\nh3 {\n    margin: 8px 0 0 16px;\n    font-size: 1em;\n}\n\n.primary-color {\n    color: #2196f3\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9naXZlbi13aGVuLXRoZW4vZ2l2ZW4td2hlbi10aGVuLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxvQkFBb0I7SUFDcEIsY0FBYztBQUNsQjs7QUFFQTtJQUNJO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2dpdmVuLXdoZW4tdGhlbi9naXZlbi13aGVuLXRoZW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5leGFtcGxlLWZ1bGwtd2lkdGgge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4ubWF0LWNhcmQge1xuICAgIG1hcmdpbjogOHB4IDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgICBwYWRkaW5nOiAwO1xufVxuXG4ucmlnaHQge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIHBhZGRpbmctcmlnaHQ6IDE2cHg7XG59XG5cbi5tYXQtbWluaS1mYWIge1xuICAgIG1hcmdpbi10b3A6IDhweDtcbn1cblxuLm1hdC1vcHRpb24ge1xuICAgIGhlaWdodDogMjJweDtcbiAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICBmb250LXNpemU6IDEycHg7XG59XG5cbi5hbGlnbi1yaWdodCB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIG1hcmdpbi10b3A6IDhweDtcbn1cblxuaDMge1xuICAgIG1hcmdpbjogOHB4IDAgMCAxNnB4O1xuICAgIGZvbnQtc2l6ZTogMWVtO1xufVxuXG4ucHJpbWFyeS1jb2xvciB7XG4gICAgY29sb3I6ICMyMTk2ZjNcbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/given-when-then/given-when-then.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/components/given-when-then/given-when-then.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\n  <div *ngFor=\"let statement of statementsForm; let idx=index\">\n    <div fxLayout=\"row\" *ngIf=\"stepTitle==='BACKGROUND' && idx==0\">\n      <h3 class=\"primary-color\">BACKGROUND (optional)</h3>\n    </div>\n    <div fxLayout=\"row\">\n      <div fxFlex=\"100px\" class=\"right\">\n        <h4 *ngIf=\"idx==00\">{{ stepTitle==='BACKGROUND' ? 'GIVEN' : stepTitle }}</h4>\n        <h4 *ngIf=\"idx>0\">{{ idx==0 ? stepTitle : \"AND\" }}</h4>\n      </div>\n\n\n      <div fxFlex=\"*\" >\n        <mat-form-field class=\"example-full-width\">\n          <input matInput [matAutocomplete]=\"auto\" [formControl]=\"statement\" (change)=\"onChange(statement.value, idx)\"\n            #trigger=\"matAutocompleteTrigger\" (keydown.enter)=\"$event.target.blur(); trigger.closePanel()\">\n          <mat-autocomplete [displayWith]=\"displayFn\" (optionSelected)=\"onChange(statement.value, idx)\" #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let step of filteredStepsStatements[idx] | async\" [value]=\"step\">\n              {{step.text}}\n            </mat-option>\n          </mat-autocomplete>\n          <button mat-button *ngIf=\"statement.value\" matSuffix mat-icon-button aria-label=\"Clear\"\n            (click)=\"statement.setValue('');onChange(statement.value, idx)\">\n            <mat-icon>close</mat-icon>\n          </button>\n          <mat-error *ngIf=\"statement.hasError('required')\">\n            <strong>statement required</strong>\n          </mat-error>\n        </mat-form-field>\n      </div>\n\n      <div fxFlex=\"60px\">\n        <button mat-icon-button [matMenuTriggerFor]=\"menu\" class=\"align-right\">\n          <mat-icon>menu</mat-icon>\n        </button>\n        <mat-menu #menu=\"matMenu\">\n          <button *ngIf=\"(idx==statements.length-1 && statement.value.length>1 && (idx+1===statementsForm.length))\"\n            mat-menu-item (click)=\"add(idx)\">\n            <mat-icon>loupe</mat-icon>\n            <span>add AND step</span>\n          </button>\n          <button *ngIf=\"idx>0\" mat-menu-item (click)=\"remove(idx)\">\n            <mat-icon color=\"warn\">delete_forever</mat-icon>\n            <span>delete this step</span>\n          </button>\n          <button *ngIf=\"(!showDataTable[idx])\" mat-menu-item (click)=\"addDataTable(idx)\">\n            <mat-icon>grid_on</mat-icon>\n            <span>add Data Table</span>\n          </button>\n          <button color=\"warn\" *ngIf=\"(showDataTable[idx])\" mat-menu-item (click)=\"removeDataTable(idx)\">\n            <mat-icon color=\"warn\">grid_off</mat-icon>\n            <span>remove Data Table</span>\n          </button>\n        </mat-menu>\n      </div>\n\n    </div>\n\n    <div fxLayout=\"row\" *ngIf=\"showDataTable[idx]\">\n      <div fxFlex=\"100px\" class=\"right\">\n      </div>\n\n      <div fxFlex=\"*\" >\n        <div class=\"data-table\">\n          <app-data-table (saveDataInParent)=\"dataTableUpdate($event)\" [tableDataIdx]=\"idx\"\n            [tableDataIn]=\"statements[idx].dataTable\" [tableID]=\"stepTitle+scenarioIdx+idx\"></app-data-table>\n        </div>\n      </div>\n\n      <div fxFlex=\"60px\"></div>\n\n    </div>\n\n  </div>\n\n</mat-card>"

/***/ }),

/***/ "./src/app/components/given-when-then/given-when-then.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/components/given-when-then/given-when-then.component.ts ***!
  \*************************************************************************/
/*! exports provided: GivenWhenThenComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GivenWhenThenComponent", function() { return GivenWhenThenComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/feature-store.service */ "./src/app/services/feature-store.service.ts");
/* harmony import */ var src_app_services_util_functions_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/util-functions.service */ "./src/app/services/util-functions.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");






var GivenWhenThenComponent = /** @class */ (function () {
    function GivenWhenThenComponent(featureStore, utils) {
        this.featureStore = featureStore;
        this.utils = utils;
        this.statementsForm = [];
        this.showDataTable = [];
        this.statements = [];
        this.tableVarsAll = []; //holds <var> TODO list of column titles?
        this.stepsStatements = []; //hardcoded steps options for deopdown
        this.filteredStepsStatements = [];
        this.stepOutput = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    GivenWhenThenComponent.prototype.ngOnInit = function () {
        console.log("INITIALISE ", this.stepTitle);
        this.initialiasFinished = false;
        this.statementsForm = [];
        this.statements = [];
        this.tableVarsAll = [];
        this.showDataTable = [];
        var fromStore = this.featureStore.getSteps(this.stepTitle, this.scenarioIdx);
        if (fromStore && fromStore[0] && fromStore[0].text) {
            //initialise from existing storage
            for (var index = 0; index < fromStore.length; index++) {
                if (this.stepTitle === 'BACKGROUND') {
                    this.statementsForm.push(new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](fromStore[index].text));
                }
                else {
                    this.statementsForm.push(new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](fromStore[index].text, [
                        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                    ]));
                }
                // this.filteredStepsStatements = this.stepsFilter(this.statementsForm[index])
                // this.filteredStepsStatements.push(this.statementsForm[index].valueChanges
                //   .pipe(
                //     startWith(''),
                //     map(value => this._stepsFilter(value))
                //   ));
                this.addStepsFilter(this.statementsForm[index]);
                this.statements.push(fromStore[index]);
                this.tableVarsAll.push(this.utils.extractVars(fromStore[index].text, []));
                this.showDataTable.push(fromStore[index].dataTable !== null);
            }
        }
        else {
            // initialise with blank step
            if (this.stepTitle === 'BACKGROUND') {
                this.statementsForm.push(new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](''));
            }
            else {
                this.statementsForm.push(new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                ]));
            }
            this.addStepsFilter(this.statementsForm[0]);
            this.tableVarsAll.push([]);
            this.statements.push({ text: "", dataTable: null });
            this.showDataTable.push(false);
        }
        this.initialiseStepStatements(this.stepTitle);
        this.initialiasFinished = true;
        this.updateParentScenario();
    };
    // add filter to steps displayed in dropdown as user types
    GivenWhenThenComponent.prototype.addStepsFilter = function (formControl) {
        var _this = this;
        this.filteredStepsStatements.push(formControl.valueChanges
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["startWith"])({ text: '', dataTable: null }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (value) {
            return value;
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (value) { return typeof value === 'string' ? value : value.text; }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (name) { return name ? _this._stepsFilter(name) : _this.stepsStatements.slice(); })));
    };
    // filter steps as user types
    GivenWhenThenComponent.prototype._stepsFilter = function (value) {
        if (this.stepsStatements.length < 0) {
            return [];
        }
        var filterValue = value.toLowerCase();
        return this.stepsStatements.filter(function (option) { return option.text.toLowerCase().includes(filterValue); });
    };
    // function to control what is displayed in autocomplete input directive
    GivenWhenThenComponent.prototype.displayFn = function (step) {
        if (typeof step === 'string') {
            return step;
        }
        return step ? step.text : undefined;
    };
    // initialise Steps Statements from remote Repo for dropdown selection
    GivenWhenThenComponent.prototype.initialiseStepStatements = function (type) {
        if (type === 'BACKGROUND') {
            type = 'GIVEN';
        }
        var readStr = type.toLowerCase() + "Statements";
        this.stepsStatements = this.featureStore.getStepStatements()[readStr] || [];
    };
    // called from given-when-then.component.html to add an AND statement
    GivenWhenThenComponent.prototype.add = function (idx) {
        this.statementsForm.push(new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required
        ]));
        this.tableVarsAll.push([]);
        this.statements.push({ text: "", dataTable: null });
        this.showDataTable.push(false);
        this.addStepsFilter(this.statementsForm[this.statementsForm.length - 1]);
    };
    // show validation errors
    GivenWhenThenComponent.prototype.showErrors = function () {
        for (var _i = 0, _a = this.statementsForm; _i < _a.length; _i++) {
            var formControl = _a[_i];
            formControl.markAsTouched();
        }
    };
    // called from given-when-then.component.html to remove an AND statement
    GivenWhenThenComponent.prototype.remove = function (idx) {
        this.statementsForm.splice(idx, 1);
        this.statements.splice(idx, 1);
        this.tableVarsAll.splice(idx, 1);
        this.showDataTable.splice(idx, 1);
        this.filteredStepsStatements.splice(idx, 1);
        this.updateParentScenario();
        this.saveToStorage();
    };
    // called from given-when-then.component.html when step text is changed
    GivenWhenThenComponent.prototype.onChange = function (step, idx) {
        // input may be string or Step  depending on whether user types or selects from dropdown
        if (this.initialiasFinished) {
            if (typeof step === 'string') {
                this.statements[idx].text = step;
                this.tableVarsAll[idx] = this.utils.extractVars(step, []);
            }
            else {
                this.statements[idx].text = step.text;
                if (step.dataTable) {
                    this.statements[idx].dataTable = step.dataTable;
                    this.showDataTable[idx] = true;
                }
                this.tableVarsAll[idx] = this.utils.extractVars(step.text, []);
            }
            this.updateParentScenario(); // update varArray in parent
            this.saveToStorage();
        }
    };
    //save to storage when text is updated in UI
    GivenWhenThenComponent.prototype.saveToStorage = function () {
        this.featureStore.setSteps(this.stepTitle, this.statements, this.scenarioIdx);
    };
    // called after data change to update varArray and Example table in parent Scenario
    GivenWhenThenComponent.prototype.updateParentScenario = function () {
        this.stepOutput.emit({
            stepTitle: this.stepTitle,
            // statements: this.statements,
            keywords: [].concat.apply([], this.tableVarsAll) //flatten array
        });
    };
    // called from given-when-then.component.html to show datatable
    GivenWhenThenComponent.prototype.addDataTable = function (idx) {
        this.showDataTable[idx] = true;
    };
    // called from given-when-then.component.html to delete and remove datatable
    GivenWhenThenComponent.prototype.removeDataTable = function (idx) {
        this.showDataTable[idx] = false;
        this.statements[idx].dataTable = null;
        this.saveToStorage();
    };
    // bound to saveDataInParent event emitter in child DataTableComponent 
    // called from DataTableComponent child, to update and save child datatable changs to storage
    GivenWhenThenComponent.prototype.dataTableUpdate = function (dataTableData) {
        this.statements[dataTableData.tableDataIdx].dataTable = dataTableData.dataTableArr;
        this.saveToStorage();
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
    ], GivenWhenThenComponent.prototype, "stepTitle", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], GivenWhenThenComponent.prototype, "scenarioIdx", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], GivenWhenThenComponent.prototype, "stepOutput", void 0);
    GivenWhenThenComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-given-when-then',
            template: __webpack_require__(/*! ./given-when-then.component.html */ "./src/app/components/given-when-then/given-when-then.component.html"),
            styles: [__webpack_require__(/*! ./given-when-then.component.css */ "./src/app/components/given-when-then/given-when-then.component.css")]
        }),
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__["FeatureStoreService"],
            src_app_services_util_functions_service__WEBPACK_IMPORTED_MODULE_4__["UtilFunctionsService"]])
    ], GivenWhenThenComponent);
    return GivenWhenThenComponent;
}());



/***/ }),

/***/ "./src/app/components/scenario/scenario.component.css":
/*!************************************************************!*\
  !*** ./src/app/components/scenario/scenario.component.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".openfile {\n    padding: 16px;\n    padding-top: 8px;\n    height: calc(98vh - 100px);\n    overflow-y: auto;\n}\n\n.mat-form-field .mat-form-field-wrapper {\n    padding-bottom: 0 !important;\n}\n\n.mat-form-field-appearance-legacy .mat-form-field-wrapper {\n    padding-bottom: 0 !important;\n}\n\n.mat-form-field {\n    width: 100%;\n    padding: 0 !important;\n}\n\n.margin-btm-16 {\n    margin-bottom: 16px;\n    display: block;\n    min-height: 32px;\n}\n\n.visible {\n    visibility: visible;\n}\n\n.invisible {\n    visibility: hidden;\n}\n\n.mat-card {\n    margin: 0;\n    background-color: #eee;\n    padding: 0;\n}\n\n.right {\n    text-align: right;\n}\n\n.example-button-row {\n    text-align: right;\n    margin-bottom: 8px;\n}\n\n.example-button-row > button {\n    margin: 0 0 0 8px;\n}\n\n.margin-right-8 {\n    margin-right: 8px;\n}\n\nmat-toolbar {\n    background-color: #cb0000;\n    color: #eee;\n}\n\n.mat-toolbar-multiple-rows {\n    min-height: 50px;\n}\n\n.mat-tab-link {\n    color: #fff;\n    opacity: 0.9;\n}\n\n.mat-toolbar-row {\n    height: 50px;\n}\n\n@media (max-width: 599px) {\n    .mat-toolbar-row {\n        height: 50px;\n    }\n}\n\n.view-file {\n    /* height: 76px; */\n    /* width: 80px; */\n    margin-left: 20px;\n\n    /* line-height: 1.3em;\n    white-space: normal */\n}\n\n.var-chip {\n    margin-left: 6px;\n}\n\n.margin-top-8 {\n    margin-top: 8px;\n}\n\n.menu-bold {\n    font-weight: bold;\n    font-size: 32px;\n    width: 40px;\n}\n\n.menu-right-bold {\n    float: right;\n    height: 100%;\n    margin-right: 4px;\n}\n\n.menu-right {\n    float: right;\n    margin-top: 8px;\n}\n\n.grey-ccc {\n    background-color: #ccc;\n}\n\n.primary-color {\n    color: #2196f3;\n}\n\n.align-right {\n    float: right;\n    margin-top: 20px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9zY2VuYXJpby9zY2VuYXJpby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLGdCQUFnQjtJQUNoQiwwQkFBMEI7SUFDMUIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksNEJBQTRCO0FBQ2hDOztBQUVBO0lBQ0ksNEJBQTRCO0FBQ2hDOztBQUVBO0lBQ0ksV0FBVztJQUNYLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixjQUFjO0lBQ2QsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksU0FBUztJQUNULHNCQUFzQjtJQUN0QixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJO1FBQ0ksWUFBWTtJQUNoQjtBQUNKOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixpQkFBaUI7O0lBRWpCO3lCQUNxQjtBQUN6Qjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsZUFBZTtJQUNmLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtBQUNwQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2NlbmFyaW8vc2NlbmFyaW8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5vcGVuZmlsZSB7XG4gICAgcGFkZGluZzogMTZweDtcbiAgICBwYWRkaW5nLXRvcDogOHB4O1xuICAgIGhlaWdodDogY2FsYyg5OHZoIC0gMTAwcHgpO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbi5tYXQtZm9ybS1maWVsZCAubWF0LWZvcm0tZmllbGQtd3JhcHBlciB7XG4gICAgcGFkZGluZy1ib3R0b206IDAgIWltcG9ydGFudDtcbn1cblxuLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2UtbGVnYWN5IC5tYXQtZm9ybS1maWVsZC13cmFwcGVyIHtcbiAgICBwYWRkaW5nLWJvdHRvbTogMCAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWZvcm0tZmllbGQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn1cblxuLm1hcmdpbi1idG0tMTYge1xuICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWluLWhlaWdodDogMzJweDtcbn1cblxuLnZpc2libGUge1xuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG59XG5cbi5pbnZpc2libGUge1xuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbn1cblxuLm1hdC1jYXJkIHtcbiAgICBtYXJnaW46IDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgICBwYWRkaW5nOiAwO1xufVxuXG4ucmlnaHQge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uZXhhbXBsZS1idXR0b24tcm93IHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG59XG5cbi5leGFtcGxlLWJ1dHRvbi1yb3cgPiBidXR0b24ge1xuICAgIG1hcmdpbjogMCAwIDAgOHB4O1xufVxuXG4ubWFyZ2luLXJpZ2h0LTgge1xuICAgIG1hcmdpbi1yaWdodDogOHB4O1xufVxuXG5tYXQtdG9vbGJhciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NiMDAwMDtcbiAgICBjb2xvcjogI2VlZTtcbn1cblxuLm1hdC10b29sYmFyLW11bHRpcGxlLXJvd3Mge1xuICAgIG1pbi1oZWlnaHQ6IDUwcHg7XG59XG5cbi5tYXQtdGFiLWxpbmsge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIG9wYWNpdHk6IDAuOTtcbn1cblxuLm1hdC10b29sYmFyLXJvdyB7XG4gICAgaGVpZ2h0OiA1MHB4O1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNTk5cHgpIHtcbiAgICAubWF0LXRvb2xiYXItcm93IHtcbiAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgIH1cbn1cblxuLnZpZXctZmlsZSB7XG4gICAgLyogaGVpZ2h0OiA3NnB4OyAqL1xuICAgIC8qIHdpZHRoOiA4MHB4OyAqL1xuICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xuXG4gICAgLyogbGluZS1oZWlnaHQ6IDEuM2VtO1xuICAgIHdoaXRlLXNwYWNlOiBub3JtYWwgKi9cbn1cblxuLnZhci1jaGlwIHtcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xufVxuXG4ubWFyZ2luLXRvcC04IHtcbiAgICBtYXJnaW4tdG9wOiA4cHg7XG59XG5cbi5tZW51LWJvbGQge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMzJweDtcbiAgICB3aWR0aDogNDBweDtcbn1cblxuLm1lbnUtcmlnaHQtYm9sZCB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBtYXJnaW4tcmlnaHQ6IDRweDtcbn1cblxuLm1lbnUtcmlnaHQge1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBtYXJnaW4tdG9wOiA4cHg7XG59XG5cbi5ncmV5LWNjYyB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcbn1cblxuLnByaW1hcnktY29sb3Ige1xuICAgIGNvbG9yOiAjMjE5NmYzO1xufVxuXG4uYWxpZ24tcmlnaHQge1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/components/scenario/scenario.component.html":
/*!*************************************************************!*\
  !*** ./src/app/components/scenario/scenario.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<form [formGroup]=\"scenarioForm\" #formScenario=\"ngForm\">\n  <mat-card class=\"margin-top-8\" ngClass=\"grey-ccc\">\n    <div fxLayout=\"row\">\n      <div fxFlex=\"100px\" class=\"right padding-right-16\">\n        <h4 class=\"primary-color\">SCENARIO #{{scenarioIdx+1}}</h4>\n      </div>\n      <div fxFlex=\"*\">\n        <mat-form-field class=\"example-full-width padding-btm-zero\">\n          <textarea matInput id=\"scenario\" formControlName=\"scenario\"\n            (change)=\"onInputFieldChange('scenario')\"></textarea>\n          <button mat-button *ngIf=\"f.scenario.value\" matSuffix mat-icon-button aria-label=\"Clear\"\n            (click)=\"f.scenario.setValue('');onInputFieldChange('scenario')\">\n            <mat-icon>close</mat-icon>\n          </button>\n          <mat-error *ngIf=\"f.scenario.errors?.required\">\n            <strong>statement required</strong>\n          </mat-error>\n        </mat-form-field>\n\n        <mat-form-field class=\"example-full-width padding-btm-zero\">\n          <textarea matInput placeholder=\"Comment (Optional)\" formControlName=\"scenarioComment\"\n            (change)=\"onInputFieldChange()\"></textarea>\n          <button mat-button *ngIf=\"f.scenarioComment.value\" matSuffix mat-icon-button aria-label=\"Clear\"\n            (click)=\"f.scenarioComment.setValue('');onInputFieldChange()\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </mat-form-field>\n\n        <mat-form-field class=\"example-full-width padding-btm-zero\">\n          <input matInput placeholder=\"Tag (Optional)\" formControlName=\"scenarioTag\"\n            (change)=\"onInputFieldChange('tag')\">\n          <button mat-button *ngIf=\"f.scenarioTag.value\" matSuffix mat-icon-button aria-label=\"Clear\"\n            (click)=\"f.scenarioTag.setValue('');onInputFieldChange('tag')\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </mat-form-field>\n\n      </div>\n      <div fxFlex=\"60px\">\n        <!-- <button *ngIf=\"totalScenarios>1\" color=\"warn\" mat-icon-button class=\"menu-right-bold\"\n          (click)=\"doScenarioAction('remove',scenarioIdx)\">\n          <mat-icon class=\"menu-bold\">delete_forever</mat-icon>\n        </button> -->\n        <button mat-icon-button [matMenuTriggerFor]=\"menu\" class=\"align-right\">\n          <mat-icon>menu</mat-icon>\n        </button>\n        <mat-menu #menu=\"matMenu\">\n\n          <button *ngIf=\"totalScenarios>1\" color=\"warn\" mat-menu-item (click)=\"doScenarioAction('remove',scenarioIdx)\">\n            <mat-icon color=\"warn\">delete_forever</mat-icon>\n            <span>delete this Scenario</span>\n          </button>\n\n          <button mat-menu-item (click)=\"doScenarioAction('add', scenarioIdx)\">\n            <mat-icon>add_circle_outline</mat-icon>\n            <span>add another Scenario</span>\n          </button>\n\n          <button *ngIf=\"isRemoteData\" mat-menu-item (click)=\"doScenarioAction('import', scenarioIdx)\">\n            <mat-icon>playlist_add</mat-icon>\n            <span>Import Scenario</span>\n          </button>\n        </mat-menu>\n      </div>\n    </div>\n  </mat-card>\n</form>\n\n\n<app-given-when-then [scenarioIdx]=\"scenarioIdx\" [stepTitle]=\"'GIVEN'\"\n  (stepOutput)=\"updateVarsList($event, scenarioIdx)\">\n</app-given-when-then>\n<app-given-when-then [scenarioIdx]=\"scenarioIdx\" [stepTitle]=\"'WHEN'\"\n  (stepOutput)=\"updateVarsList($event, scenarioIdx)\">\n</app-given-when-then>\n<app-given-when-then [scenarioIdx]=\"scenarioIdx\" [stepTitle]=\"'THEN'\"\n  (stepOutput)=\"updateVarsList($event, scenarioIdx)\">\n</app-given-when-then>\n\n<div fxLayout=\"row\">\n  <div fxFlex=\"*\" class=\"right margin-btm-16\">\n    <mat-chip-list *ngIf=\"varsArray.length>0\"  [ngClass]=\"showChips ? 'visible' : 'invisible'\">\n      <mat-chip [selectable]=\"chip.update\" selected [color]=\"chip.update?'warn':'primary'\"\n        *ngFor=\"let chip of varsArray; let idx=index \" (click)=handleTableColsUpdate(idx)>\n        {{chip.value}}\n        <mat-icon *ngIf=\"chip.update\" class=\"var-chip\">warning</mat-icon>\n      </mat-chip>\n    </mat-chip-list>\n  </div>\n\n\n  <div  fxFlex=\"260px\" class=\"right\">\n    <button *ngIf=\"!showTable && varsArray.length > 0\" color=\"primary\" mat-stroked-button (click)=\"createTable()\">\n      Create Example Table\n    </button>\n    <button *ngIf=\"showTable\" color=\"primary\" mat-stroked-button (click)=\"resetTable()\" class=\"margin-right-8\">\n      Clear All Data\n    </button>\n    <button *ngIf=\"showTable\" color=\"primary\" mat-stroked-button (click)=\"deleteTable()\">\n      Delete Table\n    </button>\n  </div>\n</div>\n\n<app-example-table *ngIf=\"showTable\" (updateExTableParent)=\"onTableChanged($event)\" [scenarioIdx]=\"scenarioIdx\">\n</app-example-table>"

/***/ }),

/***/ "./src/app/components/scenario/scenario.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/components/scenario/scenario.component.ts ***!
  \***********************************************************/
/*! exports provided: ScenarioComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScenarioComponent", function() { return ScenarioComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/dialog/dialog.component */ "./src/app/components/dialog/dialog.component.ts");
/* harmony import */ var _components_dialog_table_dialog_table_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/dialog-table/dialog-table.component */ "./src/app/components/dialog-table/dialog-table.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_feature_store_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/feature-store.service */ "./src/app/services/feature-store.service.ts");
/* harmony import */ var _services_featurefile_parser_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/featurefile-parser.service */ "./src/app/services/featurefile-parser.service.ts");
/* harmony import */ var _services_util_functions_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/util-functions.service */ "./src/app/services/util-functions.service.ts");
/* harmony import */ var ngx_filesaver__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-filesaver */ "./node_modules/ngx-filesaver/fesm5/ngx-filesaver.js");
/* harmony import */ var _components_given_when_then_given_when_then_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../components/given-when-then/given-when-then.component */ "./src/app/components/given-when-then/given-when-then.component.ts");
/* harmony import */ var _components_example_table_example_table_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/example-table/example-table.component */ "./src/app/components/example-table/example-table.component.ts");
/* harmony import */ var _components_dialog_import_dialog_import_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../components/dialog-import/dialog-import.component */ "./src/app/components/dialog-import/dialog-import.component.ts");
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/map */ "./node_modules/lodash/map.js");
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_14__);















var ScenarioComponent = /** @class */ (function () {
    function ScenarioComponent(formBuilder, dialog, featureStore, featureParser, fs, utils) {
        this.formBuilder = formBuilder;
        this.dialog = dialog;
        this.featureStore = featureStore;
        this.featureParser = featureParser;
        this.fs = fs;
        this.utils = utils;
        this.varsArray = []; //vars array of tags in <> from steps
        this.updateNeeded = false;
        this.showChips = true;
        this.duplicates = [];
        this.showTable = false;
        this.tableValidationError = "";
        this.scenarioAction = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ScenarioComponent.prototype.ngOnInit = function () {
        console.log('SCENARIO INIT');
        this.givenVars = [];
        this.whenVars = [];
        this.thenVars = [];
        this.scenarioForm = this.formBuilder.group({
            scenario: [
                this.featureStore.getScenarioText(this.scenarioIdx) || "",
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])
            ],
            scenarioComment: [
                this.featureStore.getScenarioComment(this.scenarioIdx) || ""
            ],
            scenarioTag: [
                this.featureStore.getScenarioTag(this.scenarioIdx) || ""
            ]
        });
    };
    ScenarioComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        //timeouts needed to kake sure handsontable component are created before adding data
        setTimeout(function () {
            var varsIn = _this.featureStore.getVars(_this.scenarioIdx) || [];
            if (_this.featureStore.getShowErrors()) {
                _this.showErrors();
            }
            if (varsIn && varsIn.length > 0) {
                _this.varsArray = lodash_map__WEBPACK_IMPORTED_MODULE_13___default()(varsIn, function (item) { return { value: item, update: false }; });
                _this.showTable = true;
                setTimeout(function () {
                    _this.tableComponent.populateTable();
                    _this.checkUpdateNeeded(varsIn);
                }, 0);
            }
        }, 0);
    };
    Object.defineProperty(ScenarioComponent.prototype, "f", {
        // utility function to return scenarioForm in scenario.component.html
        get: function () { return this.scenarioForm.controls; },
        enumerable: true,
        configurable: true
    });
    // save scenario title after update in UI
    ScenarioComponent.prototype.onInputFieldChange = function (type) {
        if (type === "scenario") {
            this.featureStore.setScenarioText(this.scenarioForm.value.scenario, this.scenarioIdx);
        }
        else if (type === "tag") {
            this.featureStore.setScenarioTag(this.scenarioForm.value.scenarioTag, this.scenarioIdx);
        }
        else {
            this.featureStore.setScenarioComment(this.scenarioForm.value.scenarioComment, this.scenarioIdx);
        }
    };
    // opens generic, configurable DialogComponent.  must pass in callback function to execute if dialog closes with a returned result
    // @param title: dialog title
    // @param message: dialog message
    // @param featureFile: featureFile string to display
    // @param fn: function to execute when dialog closes after 'yes'
    ScenarioComponent.prototype.openDialog = function (title, message, featureFile, fn) {
        //check not already opened
        if (this.dialog.openDialogs.length > 0)
            return;
        var dialogRef = this.dialog.open(_components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DialogComponent"], {
            width: featureFile ? '90%' : '300px',
            data: { title: title, message: message, featureFile: featureFile }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                fn(result);
            }
        });
    };
    // show validation errors in UI
    ScenarioComponent.prototype.showErrors = function () {
        this.scenarioForm.controls.scenario.markAsTouched();
        this.stepComponents.forEach(function (s) { s.showErrors(); });
        // setTimeout(() => {
        //   this.tableComponent.displayError('Error')
        // }, 0); 
    };
    // called from resetTable() after confirm dialog, clears data from example table and saves
    ScenarioComponent.prototype.doResetTable = function () {
        this.featureStore.resetTableData(this.scenarioIdx);
        this.tableComponent.resetData();
        this.checkUpdateNeeded(lodash_map__WEBPACK_IMPORTED_MODULE_13___default()(this.varsArray, function (v) { return v.value; }));
    };
    // called from scenario.component.html. shows confrim dialog to remove data from example table
    ScenarioComponent.prototype.resetTable = function () {
        this.openDialog("Reset Table", "OK to remove all data in table?", null, this.doResetTable.bind(this));
    };
    // called from deleteTable() after dialog, deletes example table
    ScenarioComponent.prototype.doDeleteTable = function () {
        this.featureStore.resetTableData(this.scenarioIdx);
        this.showTable = false;
        this.checkUpdateNeeded(lodash_map__WEBPACK_IMPORTED_MODULE_13___default()(this.varsArray, function (v) { return v.value; }));
    };
    // called from scenario.component.html. shows confrim dialog to remove data from example table
    ScenarioComponent.prototype.deleteTable = function () {
        this.openDialog("Delete Table", "OK to delete table? All data will be removed. ", null, this.doDeleteTable.bind(this));
    };
    // called from scenario.component.html 
    ScenarioComponent.prototype.createTable = function () {
        this.showTable = true;
    };
    // bound to stepOuput event emitter in GivenWhenThenComponent 
    // called from GivenWhenThenComponent children to update and save varsArray
    // varArray contans array of <> tags from GWT steps
    ScenarioComponent.prototype.updateVarsList = function (input, idx) {
        if (input.stepTitle === "GIVEN") {
            this.givenVars = input.keywords;
        }
        else if (input.stepTitle === "WHEN") {
            this.whenVars = input.keywords;
        }
        else if (input.stepTitle === "THEN") {
            this.thenVars = input.keywords;
        }
        var vars = lodash_uniq__WEBPACK_IMPORTED_MODULE_14___default()((this.givenVars).concat(this.whenVars).concat(this.thenVars));
        this.varsArray = lodash_map__WEBPACK_IMPORTED_MODULE_13___default()(vars, function (item) { return { value: item, update: false }; });
        this.featureStore.setVars(vars, idx);
        if (this.showTable) {
            //if table exists check if column update needed
            this.checkUpdateNeeded(vars);
        }
    };
    // @Params - vars is list of <???> in feature file
    // varsArray is in form {value, update}
    // this function compares the values in vars Array with the example table column headers
    // if there is a mismatch update it set to true 
    ScenarioComponent.prototype.checkUpdateNeeded = function (vars) {
        if (!this.showTable) {
            // add var values to varArray and reset to all false before running compare check with eable columns
            this.varsArray = lodash_map__WEBPACK_IMPORTED_MODULE_13___default()(vars, function (item, idx) { return { value: item, update: false }; });
            return;
        }
        var varUpdate = this.featureStore.checkUpdateNeeded(vars, this.tableComponent.getColNames());
        var updateVars = varUpdate.updateArr;
        this.varsArray = lodash_map__WEBPACK_IMPORTED_MODULE_13___default()(vars, function (item, idx) { return { value: item, update: updateVars[idx] }; });
        this.tableColDelete = varUpdate.deleteArr;
        if (this.tableColDelete.length > 0) {
            this.tableComponent.highlightCols(this.tableColDelete);
        }
    };
    // called from scenario.component.html
    // opens dialog with options to rename or insert columns in example table
    ScenarioComponent.prototype.openTableDialog = function (colNames, idx, name) {
        var _this = this;
        //check not already opened
        if (this.dialog.openDialogs.length > 0)
            return;
        var dialogRef = this.dialog.open(_components_dialog_table_dialog_table_component__WEBPACK_IMPORTED_MODULE_4__["DialogTableComponent"], {
            width: '500px',
            data: { colNames: colNames, name: name }
        });
        dialogRef.afterClosed().subscribe(function (selected) {
            if (selected === 'insert') {
                var insertIdx = _this.utils.findInsertIndex(_this.varsArray, idx);
                _this.tableComponent.insertCol(_this.utils.findInsertIndex(_this.varsArray, idx) + 1, _this.varsArray[idx].value);
            }
            else if (selected && selected.colIdx > -1) {
                _this.tableComponent.renameCol(selected.colIdx, name);
            }
            // timeout to allow table column names to update
            setTimeout(function () { return _this.checkUpdateNeeded(lodash_map__WEBPACK_IMPORTED_MODULE_13___default()(_this.varsArray, function (v) { return v.value; })); }, 100);
        });
    };
    // handle click on varsArray chips in scenario.component.html
    // calls openTableDialog to open DialogTableComponent dialog
    ScenarioComponent.prototype.handleTableColsUpdate = function (idx) {
        if (this.varsArray[idx].update) {
            this.openTableDialog(this.tableComponent.getColNames(), idx, this.varsArray[idx].value);
        }
    };
    // bound to updateExTableParent event emitter in ExampleTableComponent 
    // called from ExampleTableComponent child, calls checkUpdateNeeded() to compare values
    // from datatable columns with values in varsArry to see if there is mismatch which needs to be handled
    // varArray contans array of <> tags from GWT steps
    ScenarioComponent.prototype.onTableChanged = function (updateType) {
        this.checkUpdateNeeded(lodash_map__WEBPACK_IMPORTED_MODULE_13___default()(this.varsArray, function (v) { return v.value; }));
    };
    // called from scenario.component.html
    // emits scenarioAction output event to add or remove or import sceanrio
    // event is handled by parent HomeComponent to carry out the action 
    ScenarioComponent.prototype.doScenarioAction = function (type, idx) {
        var _this = this;
        if (type === 'import') {
            if (this.dialog.openDialogs.length > 0)
                return; //prevent multiple dialogs
            this.dialogRef = this.dialog.open(_components_dialog_import_dialog_import_component__WEBPACK_IMPORTED_MODULE_12__["DialogImportComponent"], {
                width: '90%',
                position: { top: '120px' },
                data: { title: 'Remote Scenarios', message: 'Choose File to Import', isScenarios: true }
            });
            this.dialogRef.afterClosed().subscribe(function (result) {
                if (result && result.scenario) {
                    _this.scenarioAction.emit({
                        action: type,
                        idx: idx,
                        scenario: result.scenario
                    });
                }
            });
        }
        else {
            this.scenarioAction.emit({
                action: type,
                idx: idx
            });
        }
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], ScenarioComponent.prototype, "scenarioIdx", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
    ], ScenarioComponent.prototype, "isRemoteData", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
    ], ScenarioComponent.prototype, "totalScenarios", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ScenarioComponent.prototype, "scenarioAction", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_components_example_table_example_table_component__WEBPACK_IMPORTED_MODULE_11__["ExampleTableComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _components_example_table_example_table_component__WEBPACK_IMPORTED_MODULE_11__["ExampleTableComponent"])
    ], ScenarioComponent.prototype, "tableComponent", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('formScenario'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgForm"])
    ], ScenarioComponent.prototype, "formDirective", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChildren"])(_components_given_when_then_given_when_then_component__WEBPACK_IMPORTED_MODULE_10__["GivenWhenThenComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["QueryList"])
    ], ScenarioComponent.prototype, "stepComponents", void 0);
    ScenarioComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-scenario',
            template: __webpack_require__(/*! ./scenario.component.html */ "./src/app/components/scenario/scenario.component.html"),
            styles: [__webpack_require__(/*! ./scenario.component.css */ "./src/app/components/scenario/scenario.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _angular_material__WEBPACK_IMPORTED_MODULE_5__["MatDialog"],
            _services_feature_store_service__WEBPACK_IMPORTED_MODULE_6__["FeatureStoreService"],
            _services_featurefile_parser_service__WEBPACK_IMPORTED_MODULE_7__["FeatureFileParserService"],
            ngx_filesaver__WEBPACK_IMPORTED_MODULE_9__["FileSaverService"],
            _services_util_functions_service__WEBPACK_IMPORTED_MODULE_8__["UtilFunctionsService"]])
    ], ScenarioComponent);
    return ScenarioComponent;
}());



/***/ }),

/***/ "./src/app/constants/index.ts":
/*!************************************!*\
  !*** ./src/app/constants/index.ts ***!
  \************************************/
/*! exports provided: CONSTANTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONSTANTS", function() { return CONSTANTS; });
var CONSTANTS = /** @class */ (function () {
    function CONSTANTS() {
    }
    CONSTANTS.BACKEND_HOST = 'http://localhost:3000';
    return CONSTANTS;
}());



/***/ }),

/***/ "./src/app/material-module.ts":
/*!************************************!*\
  !*** ./src/app/material-module.ts ***!
  \************************************/
/*! exports provided: MaterialModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaterialModule", function() { return MaterialModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "./node_modules/@angular/cdk/esm5/drag-drop.es5.js");
/* harmony import */ var _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/cdk/scrolling */ "./node_modules/@angular/cdk/esm5/scrolling.es5.js");
/* harmony import */ var _angular_cdk_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/table */ "./node_modules/@angular/cdk/esm5/table.es5.js");
/* harmony import */ var _angular_cdk_tree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/cdk/tree */ "./node_modules/@angular/cdk/esm5/tree.es5.js");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/cdk/a11y */ "./node_modules/@angular/cdk/esm5/a11y.es5.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");








var MaterialModule = /** @class */ (function () {
    function MaterialModule() {
    }
    MaterialModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["NgModule"])({
            exports: [
                _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__["A11yModule"],
                _angular_cdk_table__WEBPACK_IMPORTED_MODULE_3__["CdkTableModule"],
                _angular_cdk_tree__WEBPACK_IMPORTED_MODULE_4__["CdkTreeModule"],
                _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__["DragDropModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatAutocompleteModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatBadgeModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatBottomSheetModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatButtonToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatCheckboxModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatChipsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatStepperModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatDatepickerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatDialogModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatDividerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatExpansionModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatGridListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatMenuModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatNativeDateModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatPaginatorModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatProgressBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatProgressSpinnerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatRadioModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatRippleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSelectModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSliderModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSlideToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSnackBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSortModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatTooltipModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatTreeModule"],
                _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_2__["ScrollingModule"],
            ]
        })
    ], MaterialModule);
    return MaterialModule;
}());



/***/ }),

/***/ "./src/app/models/hardcodedStatements.ts":
/*!***********************************************!*\
  !*** ./src/app/models/hardcodedStatements.ts ***!
  \***********************************************/
/*! exports provided: STATEMENTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STATEMENTS", function() { return STATEMENTS; });
// const GIVEN_STATEMENTS: string[] = [
//     "the authentication method <auth method>",
//     "an authentication method answer is provided by an API",
//     "that an API has sent an authentication answer to the app ",
//     "<auth method> requires data selection presented to customer",
//     "<auth method> requires multiple answer selections to be presented to customer",
//     "<auth method> requires answer input presented to customer",
//     "4 answer selections must be simulated (start with same character)",
//     "selection of simulated answers should be randomized",
// ];
// const WHEN_STATEMENTS: string[] = [
//     "identifying sending question to an calling system",
//     "identifying answer selections to return",
//     "the app determines the Authentication Method for service catalog requests",
//     "the app evaluates the answer that was provided by an API",
//     "the auth policy does not match the answer correctly",
//     "the auth policy still has eligible authentication questions to be asked",
//     "the API has responded with the authentication method Authentication answer",
//     "the response provided from the API does match the value of authentication method answer",
//     "the response provided from the API does not match the value of authentication method answer",
//     "there are additional authentication methods available to be asked"
// ];
// const THEN_STATEMENTS: string[] = [
//     "tell the API to deny service",
//     "provide instructions",
//     "the App returns proceed with Service response to the API",
//     "the Component is updated with a calculated score of X",
//     "the App returns question to the API",
//     "the Decision Engine returns how to present the question to the API",
//     "<auth method>, <Data>  will be excluded",
//     "retrieve the actual authentication answer",
//     "identify 4 simulated authentication answers using <simulation_criteria>",
//     "return 4 simulated authentication answers and 1 actual authentication answer",
//     "require an input and selection of answer to be provided by a calling system",
//     "provide <instructions> on how to solicit answer"
// ];
// const GIVEN_STATEMENTS: string[] = [
//     "The following users are valid",
//     "these accounts exist",
//     "I am a manager",
//     "I am a supervisor",
//     "I am a normal user"
// ];
// const WHEN_STATEMENTS: string[] = [
//     "I login with my credentials",
//     "I request balance for <accountnumber> from the accounts API",
// ];
// const THEN_STATEMENTS: string[] = [
//     "I should get <balance> as the response",
// ];
var GIVEN_STATEMENTS = [];
var WHEN_STATEMENTS = [];
var THEN_STATEMENTS = [];
var STATEMENTS = {
    givenStatements: GIVEN_STATEMENTS,
    whenStatements: WHEN_STATEMENTS,
    thenStatements: THEN_STATEMENTS
};


/***/ }),

/***/ "./src/app/pages/home/home.component.css":
/*!***********************************************!*\
  !*** ./src/app/pages/home/home.component.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".openfile {\n    padding: 16px;\n    padding-top: 8px;\n    height: calc(98vh - 100px);\n    overflow-y: auto;\n}\n\n.mat-form-field .mat-form-field-wrapper {\n    padding-bottom: 0 !important;\n}\n\n.mat-form-field-appearance-legacy .mat-form-field-wrapper {\n    padding-bottom: 0 !important;\n}\n\n.mat-form-field {\n    width: 100%;\n    padding: 0 !important;\n}\n\n.margin-btm-16 {\n    margin-bottom: 16px;\n    display: block;\n}\n\n.mat-card {\n    margin: 0;\n    background-color: #eee;\n    padding: 0;\n    padding-right: 16px;\n}\n\n.right {\n    text-align: right;\n}\n\n.add-button {\n    text-align: right;\n    margin-top: 16px;\n}\n\nmat-toolbar {\n    background-color: black;\n    color: #eee;\n}\n\n.mat-toolbar-multiple-rows {\n    min-height: 50px;\n}\n\n.mat-tab-link {\n    color: #fff;\n    opacity: 0.9;\n    min-width: 80px;\n}\n\n.mat-toolbar-row {\n    height: 50px;\n}\n\n@media (max-width: 599px) {\n    .mat-toolbar-row {\n        height: 50px;\n    }\n}\n\n.margin-top-8 {\n    margin-top: 16px;\n}\n\n.scenario {\n    margin-top: 20px;\n}\n\n.primary-color {\n    color: #2196f3;\n}\n\n.fade {\n    transition: opacity 0.6s;\n    -webkit-transition: opacity 0.6s;\n}\n\n.opacity-1 {\n    opacity: 1;\n}\n\n.opacity-2 {\n    opacity: 0.2;\n}\n\n.error-font-size {\n    font-size: 75%;\n    margin-top: 3px;\n}\n\n.no-wrap {\n    white-space: nowrap;\n}\n\n.title {\n    margin-left: 16px;\n    margin-top: 16px;\n}\n\n.title-text {\n    vertical-align: top;\n    padding-top: 2px;\n    display: inline-block;\n}\n\n.header-logo {\n    width: 132px;\n    padding-right: 20px;\n}\n\n.repo {\n    width: 100%;\n    text-align: right;\n    font-size: 75%;\n    margin-right: 16px;\n    margin-top: 16px;\n}\n\n.full-width {\n    width: 100%;\n}\n\n.version {\n    width: 100%;\n    text-align: right;\n    font-size: 60%;\n    margin-right: 16px;\n    display: inline-flex;\n    justify-content: flex-end;\n    align-items: center;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLDBCQUEwQjtJQUMxQixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSxXQUFXO0lBQ1gscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxTQUFTO0lBQ1Qsc0JBQXNCO0lBQ3RCLFVBQVU7SUFDVixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osZUFBZTtBQUNuQjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSTtRQUNJLFlBQVk7SUFDaEI7QUFDSjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSx3QkFBd0I7SUFDeEIsZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksVUFBVTtBQUNkOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxlQUFlO0FBQ25COztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsY0FBYztJQUNkLGtCQUFrQjtJQUNsQixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsb0JBQW9CO0lBQ3BCLHlCQUF5QjtJQUN6QixtQkFBbUI7QUFDdkIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9ob21lL2hvbWUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5vcGVuZmlsZSB7XG4gICAgcGFkZGluZzogMTZweDtcbiAgICBwYWRkaW5nLXRvcDogOHB4O1xuICAgIGhlaWdodDogY2FsYyg5OHZoIC0gMTAwcHgpO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbi5tYXQtZm9ybS1maWVsZCAubWF0LWZvcm0tZmllbGQtd3JhcHBlciB7XG4gICAgcGFkZGluZy1ib3R0b206IDAgIWltcG9ydGFudDtcbn1cblxuLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2UtbGVnYWN5IC5tYXQtZm9ybS1maWVsZC13cmFwcGVyIHtcbiAgICBwYWRkaW5nLWJvdHRvbTogMCAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWZvcm0tZmllbGQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn1cblxuLm1hcmdpbi1idG0tMTYge1xuICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG5cbi5tYXQtY2FyZCB7XG4gICAgbWFyZ2luOiAwO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gICAgcGFkZGluZzogMDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxNnB4O1xufVxuXG4ucmlnaHQge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uYWRkLWJ1dHRvbiB7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgbWFyZ2luLXRvcDogMTZweDtcbn1cblxubWF0LXRvb2xiYXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xuICAgIGNvbG9yOiAjZWVlO1xufVxuXG4ubWF0LXRvb2xiYXItbXVsdGlwbGUtcm93cyB7XG4gICAgbWluLWhlaWdodDogNTBweDtcbn1cblxuLm1hdC10YWItbGluayB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgb3BhY2l0eTogMC45O1xuICAgIG1pbi13aWR0aDogODBweDtcbn1cblxuLm1hdC10b29sYmFyLXJvdyB7XG4gICAgaGVpZ2h0OiA1MHB4O1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNTk5cHgpIHtcbiAgICAubWF0LXRvb2xiYXItcm93IHtcbiAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgIH1cbn1cblxuLm1hcmdpbi10b3AtOCB7XG4gICAgbWFyZ2luLXRvcDogMTZweDtcbn1cblxuLnNjZW5hcmlvIHtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG4ucHJpbWFyeS1jb2xvciB7XG4gICAgY29sb3I6ICMyMTk2ZjM7XG59XG5cbi5mYWRlIHtcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNnM7XG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuNnM7XG59XG5cbi5vcGFjaXR5LTEge1xuICAgIG9wYWNpdHk6IDE7XG59XG5cbi5vcGFjaXR5LTIge1xuICAgIG9wYWNpdHk6IDAuMjtcbn1cblxuLmVycm9yLWZvbnQtc2l6ZSB7XG4gICAgZm9udC1zaXplOiA3NSU7XG4gICAgbWFyZ2luLXRvcDogM3B4O1xufVxuXG4ubm8td3JhcCB7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLnRpdGxlIHtcbiAgICBtYXJnaW4tbGVmdDogMTZweDtcbiAgICBtYXJnaW4tdG9wOiAxNnB4O1xufVxuXG4udGl0bGUtdGV4dCB7XG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICBwYWRkaW5nLXRvcDogMnB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLmhlYWRlci1sb2dvIHtcbiAgICB3aWR0aDogMTMycHg7XG4gICAgcGFkZGluZy1yaWdodDogMjBweDtcbn1cblxuLnJlcG8ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIGZvbnQtc2l6ZTogNzUlO1xuICAgIG1hcmdpbi1yaWdodDogMTZweDtcbiAgICBtYXJnaW4tdG9wOiAxNnB4O1xufVxuXG4uZnVsbC13aWR0aCB7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi52ZXJzaW9uIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBmb250LXNpemU6IDYwJTtcbiAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/pages/home/home.component.html":
/*!************************************************!*\
  !*** ./src/app/pages/home/home.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar>\n  <mat-toolbar-row>\n    <div fxLayout=\"row\" class=\"full-width\">\n      <div fxFlex=\"360px\" class=\"title\">\n        <img class=\"header-logo\" src=\"assets/images/redhat-logo-white.png\">\n        <span class=\"title-text\">Feature File Helper</span>\n      </div>\n\n      <div fxFlex=\"*\" class=\"repo\">\n        <span *ngIf=\"remoteRepo && remoteRepo.name\">Remote Repository: {{remoteRepo.name}}</span>\n      </div>\n    </div>\n  </mat-toolbar-row>\n  <mat-toolbar-row>\n    <div fxLayout=\"row\" class=\"full-width\">\n      <nav fxFlex=\"*\" mat-tab-nav-bar>\n        <a mat-tab-link (click)=\"doNew()\">\n          New\n        </a>\n        <a mat-tab-link (click)=\"viewFeatureFile()\">\n          View Feature File\n        </a>\n        <a mat-tab-link>\n          <!-- Open Existing -->\n          <button mat-button [matMenuTriggerFor]=\"menuImport\">Import</button>\n          <mat-menu #menuImport=\"matMenu\" class=\"sub-menu\">\n            <button mat-menu-item (click)=\"openRemote()\">From Remote Repository</button>\n            <button mat-menu-item (click)=\"openExisting()\">From Local File System</button>\n          </mat-menu>\n        </a>\n        <a mat-tab-link>\n          <button mat-button [matMenuTriggerFor]=\"menuExport\">Export</button>\n          <mat-menu #menuExport=\"matMenu\" class=\"sub-menu\">\n            <button *ngIf=\"remoteRepo\" mat-menu-item (click)=\"fileSave(true)\">To Remote Repository</button>\n            <button mat-menu-item (click)=\"fileSave(false)\">To Local File System</button>\n          </mat-menu>\n        </a>\n        <a mat-tab-link>\n          <button mat-button [matMenuTriggerFor]=\"remoteMenu\">Remote</button>\n          <mat-menu #remoteMenu=\"matMenu\" class=\"sub-menu\">\n            <button mat-menu-item (click)=\"importRemoteData()\">Import Remote Repository Data</button>\n            <button *ngIf=\"remoteRepo\" mat-menu-item (click)=\"clearRemoteData()\">Clear Imported Remote Data</button>\n            <button *ngIf=\"remoteRepo\" mat-menu-item (click)=\"forceResetRemoteRepo()\">Reset\n              Remote Repository</button>\n          </mat-menu>\n        </a>\n        <!-- <a mat-tab-link (click)=\"loadDummy()\">\n          Load Test File\n        </a> -->\n        \n      </nav>\n      <div fxFlex=\"100px\" class=\"version\">{{versionStr}}</div>\n      \n    </div>\n  </mat-toolbar-row>\n</mat-toolbar>\n\n<!-- hidden fild for file open -->\n<input style=\"display: none\" type=\"file\" (change)=\"onFileOpen($event)\" #fileInput>\n\n<div class=\"openfile\">\n  <form [formGroup]=\"featureForm\" #formDirective=\"ngForm\">\n\n    <mat-expansion-panel (opened)=\"featurePanelState = true\" (closed)=\"featurePanelState = false\">\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <div class=\"fade\" [ngClass]=\"featurePanelState ? 'opacity-2':'opacity-1'\">\n\n            <div fxLayout=\"row\">\n              <div fxFlex=\"100px\">\n                Feature\n              </div>\n              <div fxFlex=\"*\" class=\"no-wrap\">\n                {{f.featureTitle.value}}\n              </div>\n            </div>\n\n            <div fxLayout=\"row\">\n              <mat-error class=\"error-font-size\" *ngIf=\"f.featureTitle.errors?.required && f.featureTitle.touched\">\n                Error: Feature Statement required\n              </mat-error>\n            </div>\n\n          </div>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n      <mat-card *ngIf=\"featurePanelState\">\n        <div fxLayout=\"row\">\n          <div fxFlex=\"100px\" class=\"right padding-right-16\">\n            <h3 class=\"primary-color\">FEATURE</h3>\n          </div>\n          <div fxFlex=\"*\">\n\n            <mat-form-field class=\"example-full-width padding-btm-zero\">\n              <textarea matInput id=\"featureTitle\" formControlName=\"featureTitle\"\n                (change)=\"onInputFieldChange('title')\"></textarea>\n              <button mat-button *ngIf=\"f.featureTitle.value\" matSuffix mat-icon-button aria-label=\"Clear\"\n                (click)=\"f.featureTitle.setValue('');onInputFieldChange('title')\">\n                <mat-icon>close</mat-icon>\n              </button>\n              <mat-error *ngIf=\"f.featureTitle.errors?.required\">\n                <strong>statement required</strong>\n              </mat-error>\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width padding-btm-zero\">\n              <textarea matInput placeholder=\"Comment (Optional)\" formControlName=\"featureComment\"\n                (change)=\"onInputFieldChange()\"></textarea>\n              <button mat-button *ngIf=\"f.featureComment.value\" matSuffix mat-icon-button aria-label=\"Clear\"\n                (click)=\"f.featureComment.setValue('');onInputFieldChange()\">\n                <mat-icon>close</mat-icon>\n              </button>\n            </mat-form-field>\n\n            <mat-form-field class=\"example-full-width padding-btm-zero\">\n              <input matInput placeholder=\"Tag (Optional)\" formControlName=\"featureTag\"\n                (change)=\"onInputFieldChange('tag')\">\n              <button mat-button *ngIf=\"f.featureTag.value\" matSuffix mat-icon-button aria-label=\"Clear\"\n                (click)=\"f.featureTag.setValue('');onInputFieldChange('tag')\">\n                <mat-icon>close</mat-icon>\n              </button>\n            </mat-form-field>\n\n\n          </div>\n        </div>\n      </mat-card>\n\n    </mat-expansion-panel>\n\n    <mat-expansion-panel (opened)=\"bgPanelState = true\" (closed)=\"bgPanelState = false\" class=\"margin-top-8\">\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <div fxLayout=\"row\" class=\"fade\" [ngClass]=\"bgPanelState ? 'opacity-2':'opacity-1'\">\n            <div fxFlex=\"100px\">\n              Background\n            </div>\n            <div fxFlex=\"*\">\n              (Optional)\n            </div>\n          </div>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n      <app-given-when-then *ngIf=\"bgPanelState\" [stepTitle]=\"'BACKGROUND'\" #background></app-given-when-then>\n    </mat-expansion-panel>\n\n  </form>\n\n  <mat-accordion>\n    <div class=\"scenario\" *ngFor=\"let scenario of scenarios;let idx=index\">\n\n      <mat-expansion-panel (opened)=\"panelOpenState[idx] = true\" (closed)=\"panelOpenState[idx] = false\">\n        <mat-expansion-panel-header>\n          <mat-panel-title>\n            <div>\n\n              <div class=\"fade\" [ngClass]=\"panelOpenState[idx] ? 'opacity-2':'opacity-1'\" fxLayout=\"row\">\n                <div fxFlex=\"100px\">\n                  Scenario: {{idx+1}}\n                </div>\n                <div fxFlex=\"*\" class=\"no-wrap\">\n                  <div fxLayout=\"row\" *ngIf=\"scenario.scenario\">{{scenario.scenario}}</div>\n                </div>\n                <div fxFlex=\"200px\"></div>\n              </div>\n\n              <div fxLayout=\"row\">\n                <div *ngIf=\"showErrors && scenario.errorMessages && scenario.errorMessages.length>0\" fxLayout=\"row\">\n                  <mat-error class=\"error-font-size\">\n                    Error: {{scenario.errorMessages}}\n                  </mat-error>\n                </div>\n              </div>\n\n            </div>\n          </mat-panel-title>\n        </mat-expansion-panel-header>\n        <app-scenario *ngIf=\"panelOpenState[idx]\" (scenarioAction)=\"doActionScenario($event)\" class=\"scenario\"\n          [scenarioIdx]=\"idx\" [isRemoteData]=\"remoteRepo\" [totalScenarios]=\"scenarios.length\"></app-scenario>\n      </mat-expansion-panel>\n    </div>\n  </mat-accordion>\n\n  <div class=\"add-button\">\n    <button *ngIf=\"remoteRepo\" color=\"warn\" class=\" margin-right-8\" mat-raised-button (click)=\"importScenario()\">\n      <mat-icon>playlist_add</mat-icon> Import Scenario\n    </button>\n    <button color=\"warn\" mat-raised-button (click)=\"doActionScenario({action:'add'})\">\n      <mat-icon>add_circle_outline</mat-icon> Add Scenario\n    </button>\n  </div>\n\n</div>"

/***/ }),

/***/ "./src/app/pages/home/home.component.ts":
/*!**********************************************!*\
  !*** ./src/app/pages/home/home.component.ts ***!
  \**********************************************/
/*! exports provided: HomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomeComponent", function() { return HomeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/feature-store.service */ "./src/app/services/feature-store.service.ts");
/* harmony import */ var _services_featurefile_parser_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/featurefile-parser.service */ "./src/app/services/featurefile-parser.service.ts");
/* harmony import */ var _services_featureJSON_parser_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/featureJSON-parser.service */ "./src/app/services/featureJSON-parser.service.ts");
/* harmony import */ var _services_util_functions_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/util-functions.service */ "./src/app/services/util-functions.service.ts");
/* harmony import */ var _services_remote_calls_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/remote-calls.service */ "./src/app/services/remote-calls.service.ts");
/* harmony import */ var ngx_filesaver__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-filesaver */ "./node_modules/ngx-filesaver/fesm5/ngx-filesaver.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../components/dialog/dialog.component */ "./src/app/components/dialog/dialog.component.ts");
/* harmony import */ var _components_dialog_import_dialog_import_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/dialog-import/dialog-import.component */ "./src/app/components/dialog-import/dialog-import.component.ts");
/* harmony import */ var _components_dialog_remote_dialog_remote_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../components/dialog-remote/dialog-remote.component */ "./src/app/components/dialog-remote/dialog-remote.component.ts");
/* harmony import */ var _components_given_when_then_given_when_then_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../components/given-when-then/given-when-then.component */ "./src/app/components/given-when-then/given-when-then.component.ts");
/* harmony import */ var _components_scenario_scenario_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../components/scenario/scenario.component */ "./src/app/components/scenario/scenario.component.ts");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash/filter */ "./node_modules/lodash/filter.js");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../package.json */ "./package.json");
var _package_json__WEBPACK_IMPORTED_MODULE_16___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../../../package.json */ "./package.json", 1);

















var HomeComponent = /** @class */ (function () {
    function HomeComponent(formBuilder, dialog, featureStore, featurefileParser, featureJSONParser, remoteCalls, fs, utils) {
        this.formBuilder = formBuilder;
        this.dialog = dialog;
        this.featureStore = featureStore;
        this.featurefileParser = featurefileParser;
        this.featureJSONParser = featureJSONParser;
        this.remoteCalls = remoteCalls;
        this.fs = fs;
        this.utils = utils;
        this.varsArray = []; //vars array from steps
        this.updateNeeded = false;
        this.showChips = true;
        this.duplicates = [];
        this.showTable = false;
        this.tableValidationError = "";
        this.bgPanelState = false;
        this.featurePanelState = false;
        this.scenarios = [];
        this.showErrors = false;
    }
    HomeComponent.prototype.ngOnInit = function () {
        console.log("HOME INIT");
        this.versionStr = 'Version ' + _package_json__WEBPACK_IMPORTED_MODULE_16__["version"];
        this.featureForm = this.formBuilder.group({
            featureTitle: [
                this.featureStore.getFeature() || "",
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])
            ],
            featureComment: [
                this.featureStore.getFeatureComment() || ""
            ],
            featureTag: [
                this.featureStore.getFeatureTag() || ""
            ]
        });
        this.scenarios = this.featureStore.getScenarios();
        this.showErrors = this.featureStore.getShowErrors();
        this.panelOpenState = Array(this.scenarios.length).fill(false);
        this.remoteRepo = this.featureStore.getRemoteRepo();
    };
    Object.defineProperty(HomeComponent.prototype, "f", {
        get: function () { return this.featureForm.controls; },
        enumerable: true,
        configurable: true
    });
    // saves change in feature title or comment in the UI.  
    HomeComponent.prototype.onInputFieldChange = function (type) {
        if (type === "title") {
            this.featureStore.setFeature(this.featureForm.value.featureTitle);
        }
        else if (type === "tag") {
            this.featureStore.setFeatureTag(this.featureForm.value.featureTag);
        }
        else {
            this.featureStore.setFeatureComment(this.featureForm.value.featureComment);
        }
    };
    // called to clear UI when new featrure file is being laded 
    HomeComponent.prototype.resetThis = function () {
        // reset validation errors on the FormGroup Directive 
        this.formDirective.resetForm();
        // reset background component if it is open
        if (this.backgroundComponent) {
            this.backgroundComponent.ngOnInit();
        }
        this.ngOnInit();
    };
    // called after import scenario dialog box closes, adds imported scenario and saves
    HomeComponent.prototype.doImportScenario = function (scenario, idx) {
        var lineArr = scenario.split('\n');
        lineArr = lodash_filter__WEBPACK_IMPORTED_MODULE_15___default()(lineArr, function (line) { return line !== ""; });
        var scenarioImport = this.featurefileParser.convertScenarioToJSON(0, lineArr);
        if (idx >= 0) {
            //delete current and insert
            this.scenarios.splice(idx, 1, scenarioImport[0]);
            this.panelOpenState[idx] = false;
        }
        else {
            //add to end
            this.scenarios.push(scenarioImport[0]);
            this.panelOpenState.push(false);
        }
        this.featureStore.setScenarios(this.scenarios);
    };
    // this is bound to scenarioAction output emitter from children ScenarioComponents
    // gets called from ScenarioComponent to add / remove / import Scenario
    // for add it updates UI and saves
    // for remove / update it presents  dialog to confirm action
    HomeComponent.prototype.doActionScenario = function (evt) {
        // add or remove or import scenarios based nn
        // events emitted in scenario.component.ts and scenario.component.html 
        if (evt.action === 'add') {
            this.scenarios.push(this.featureStore.newScenario());
            this.panelOpenState.push(false);
            this.featureStore.setScenarios(this.scenarios);
        }
        else if (evt.action === 'remove') {
            this.openDialog("Delete Scenario", "OK to delete this Scenario and it\'s data?", null, this.removeScenario.bind(this, evt.idx));
        }
        else if (evt.action === 'import') {
            if (evt.idx >= 0 && this.featureStore.checkScenarioHasData(evt.idx)) {
                // overwrite existing - show confirm dialog
                this.openDialog("Import Scenario", "OK to overwrite existing Scenario?", null, this.doImportScenario.bind(this, evt.scenario, evt.idx));
            }
            else {
                this.doImportScenario(evt.scenario, evt.idx);
            }
        }
    };
    // called from home componnet, creates dialog to impport scenario
    HomeComponent.prototype.importScenario = function () {
        var _this = this;
        if (this.dialog.openDialogs.length > 0)
            return; //prevent multiple dialogs
        this.dialogRef = this.dialog.open(_components_dialog_import_dialog_import_component__WEBPACK_IMPORTED_MODULE_11__["DialogImportComponent"], {
            width: '90%',
            position: { top: '120px' },
            data: { title: 'Remote Scenarios', message: 'Choose File to Import', isScenarios: true }
        });
        this.dialogRef.afterClosed().subscribe(function (result) {
            if (result && result.scenario) {
                _this.doImportScenario(result.scenario, -1);
            }
        });
    };
    // called after remove scenario dialog is closed, removes scenario and saves
    HomeComponent.prototype.removeScenario = function (idx) {
        this.scenarios.splice(idx, 1);
        this.panelOpenState.splice(idx, 1);
        this.featureStore.setScenarios(this.scenarios);
    };
    // called from Home.html, opens local file import dialog
    HomeComponent.prototype.openExisting = function () {
        this.fileInputRef.nativeElement.click();
    };
    // called after local file import dialog closes with file selected
    // presents confirm dialog if current data needs to be deleted
    HomeComponent.prototype.onFileOpen = function (event) {
        console.log('File Open on change', event.target.files[0]);
        if (this.featureStore.checkFeatureFileHasData()) {
            // TODO why doesn't this work after dialog
            this.openDialog("File Open", "OK to delete existing data?", null, this.readFile.bind(this, event));
        }
        else {
            this.readFile(event);
        }
    };
    // load new file from local filesystem
    HomeComponent.prototype.readFile = function (event) {
        var _this = this;
        var reader = new FileReader();
        reader.readAsText(event.target.files[0]);
        //reset input value so it can be read again
        this.fileInputRef.nativeElement.value = "";
        reader.onload = function (e) {
            _this.parseFile({
                contents: reader.result,
                fileName: null,
                pathName: null
            });
        };
        reader.onerror = function (e) {
            console.error('ah noooooo, error reading file ', e);
        };
    };
    // handles importing feature files and other data from remote repos
    // converts imcoming data in .feature file format into a JSON object that can be stored and used in th UI  
    // from remote imports saves scenarios, given when then steps and lists of remote filenames and pathnames
    HomeComponent.prototype.parseFile = function (file, stepStatements, remotePaths, remoteRepo) {
        var fileInConvert = this.featurefileParser.convertFeatureFiletoJSON(file.contents, file.fileName, file.pathName);
        if (fileInConvert.ok) {
            this.loadNewFeatureFile(fileInConvert.featureFile);
            // save step statments from remote repo it they are there
            if (stepStatements) {
                this.featureStore.setStepStatements(stepStatements);
            }
            // save pahts and filenames from remote repo
            if (remotePaths) {
                this.featureStore.setRemotePaths(remotePaths);
            }
            // saves references to scenarios from remote repo
            if (remoteRepo) {
                this.featureStore.setRemoteRepo(remoteRepo);
                this.remoteRepo = remoteRepo;
            }
        }
        else {
            this.openDialog("Error Reading Feature File", fileInConvert.error.message, null, function () { });
        }
    };
    // called from home.html, validates feature file and shows dialod to fix error os enter filename to save
    HomeComponent.prototype.fileSave = function (isRemote) {
        var title = isRemote ? "File Save (Remote Repository: " + this.remoteRepo.name + ")" : 'File Save (Local)';
        var fn = isRemote ? this.doFileSaveRemote : this.doFileSaveLocal;
        this.featureStore.setShowErrors(true);
        this.showErrors = true;
        if (this.featureStore.isFeatureFileValid()) {
            var featureFileJson = this.featureStore.getFeatureFile();
            var featureFileText = this.featureJSONParser.convertJSONtoFeature(featureFileJson);
            this.openDialog(title, "Enter File Name", featureFileText, fn.bind(this), featureFileJson.fileName, featureFileJson.pathName);
        }
        else {
            this.featureForm.controls.featureTitle.markAsTouched(); // turns on error messageds in this page
            this.scenarioComponents.forEach(function (s) { s.showErrors(); }); // rurn on error messages in scenario
            // const tableError: ExampleError = this.featureStore.isVarsAndTableValid()
            // if (tableError.error) {
            // this.tableComponent.displayError(tableError);
            //TODO display errors seomwhere in UI
            //   console.error("Error in Example data ", tableError.message)
            // }
            this.openDialog(title, "Error: Invalid Feature File, please complete missing fields", null, function () { });
        }
    };
    // called afer fileSave dialog closes, saves file locally
    HomeComponent.prototype.doFileSaveLocal = function (dataFromDialog) {
        var fileSave = this.featureJSONParser.convertJSONtoFeature(this.featureStore.getFeatureFile());
        var blob = new Blob([fileSave], { type: "text/plain;charset=utf-8" });
        this.fs.save(blob, "" + dataFromDialog.fileName);
    };
    // called afer fileSave dialog closes, saves file to remote repo
    HomeComponent.prototype.doFileSaveRemote = function (dataFromDialog) {
        var _this = this;
        //update filename and path and upload to repo
        var featureFileJson = this.featureStore.getFeatureFile();
        var isNew;
        if (dataFromDialog.fileName !== featureFileJson.fileName || dataFromDialog.pathName !== featureFileJson.pathName) {
            isNew = true;
            featureFileJson.fileName = dataFromDialog.fileName;
            featureFileJson.pathName = dataFromDialog.pathName;
            this.featureStore.loadNewFeatureFile(featureFileJson);
        }
        else {
            isNew = false;
        }
        var title = "File Save (Remote)";
        //open spinner for saving
        this.openDialog(title, "Saving...", null, function () { });
        this.remoteCalls.saveFeatureFile(featureFileJson.fileName, featureFileJson.pathName, this.remoteRepo.id, this.featureJSONParser.convertJSONtoFeature(this.featureStore.getFeatureFile()), isNew)
            .subscribe(function (data) {
            _this.dialogRef.close();
        }, function (err) {
            console.error('Error posting featurefile ', err);
            _this.dialogRef.close();
            setTimeout(function () { return _this.openDialog(title, "Error: Unable to Save FeatureFile", null, function () { }); }, 200);
        });
    };
    // opens generic, configurable DialogComponent.  must pass in callback function to execute if dialog closes with a returned result
    // @param title: dialog title
    // @param message: dialog message
    // @param featureFile: featureFile string to display
    // @param fn: function to execute when dialog closes after 'yes' 
    // @param fileName: feature file filename for remote save' 
    // @param pathName: feature file pathName for remote save' 
    HomeComponent.prototype.openDialog = function (title, message, featureFile, fn, fileName, pathName) {
        //check not already opened
        if (this.dialog.openDialogs.length > 0)
            return;
        var data = title.indexOf('Remote') > -1 ? { title: title, message: message, featureFile: featureFile, fileName: fileName, pathName: pathName } : { title: title, message: message, featureFile: featureFile };
        this.dialogRef = this.dialog.open(_components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_10__["DialogComponent"], {
            width: featureFile ? '90%' : '300px',
            data: data
        });
        this.dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                fn(result);
            }
        });
    };
    // called from home.html toolbar to initiate creating new feature file - displays dialog
    HomeComponent.prototype.doNew = function () {
        this.openDialog("Create New Feature File", "OK to delete all current data?", null, this.loadNewFeatureFile.bind(this));
    };
    // loads dummy data for testing / display
    HomeComponent.prototype.loadDummy = function () {
        this.loadNewFeatureFile(this.featureStore.loadDummyFeatureFile());
    };
    // loads new feature file from storage and intiates reset to load into UI
    HomeComponent.prototype.loadNewFeatureFile = function (featureFile) {
        this.featureStore.loadNewFeatureFile(featureFile);
        //update home component
        this.resetThis();
    };
    // called from home.html toolbar to show currnet data in .feature file format in a dialog
    HomeComponent.prototype.viewFeatureFile = function () {
        var featureFileText = this.featureJSONParser.convertJSONtoFeature(this.featureStore.getFeatureFile());
        this.openDialog('Feature File Format', '', featureFileText, function () { });
    };
    // called from home.html toolbar to open dialog to import remote feature file and repo
    HomeComponent.prototype.openRemote = function () {
        var _this = this;
        if (this.dialog.openDialogs.length > 0)
            return;
        this.dialogRef = this.dialog.open(_components_dialog_import_dialog_import_component__WEBPACK_IMPORTED_MODULE_11__["DialogImportComponent"], {
            width: '90%',
            position: { top: '120px' },
            minHeight: '360px',
            data: { title: 'Remote Feature Files', message: 'Choose File to Import', isFeatureFiles: true }
        });
        this.dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                // if there is existing data, show confirm dialog to delete it
                if (_this.featureStore.checkFeatureFileHasData()) {
                    _this.openDialog("File Open", "OK to delete existing data?", null, _this.parseFile.bind(_this, result.featureFile, result.stepStatements, result.remotePaths, result.remoteRepo));
                }
                else {
                    _this.parseFile(result.featureFile, result.stepStatements, result.remotePaths, result.remoteRepo);
                }
            }
        });
    };
    // called from home.html toolbar to clear downloaded  data from remote repo
    // TODO need a dialog box here to confirm?
    HomeComponent.prototype.clearRemoteData = function () {
        this.featureStore.setStepStatements({
            givenStatements: [],
            whenStatements: [],
            thenStatements: []
        });
        this.featureStore.setRemotePaths([]);
        this.featureStore.setRemoteRepo(null);
        this.remoteRepo = null;
        this.featureStore.resetFilePathNames();
        this.ngOnInit();
    };
    // called from home.html toolbar to import data from remote repo
    // TODO need a dialog box here to confirm?
    HomeComponent.prototype.importRemoteData = function () {
        var _this = this;
        if (this.dialog.openDialogs.length > 0)
            return;
        this.dialogRef = this.dialog.open(_components_dialog_remote_dialog_remote_component__WEBPACK_IMPORTED_MODULE_12__["DialogRemoteComponent"], {
            width: '60%',
            position: { top: '120px' },
            data: { title: 'Import Steps from Remote Repository', message: 'Choose File to Import', isImportRemote: true }
        });
        this.dialogRef.afterClosed().subscribe(function (result) {
            if (result) {
                var stepsData = result.stepStatements;
                _this.featureStore.setStepStatements({
                    givenStatements: stepsData.givenStatements,
                    whenStatements: stepsData.whenStatements,
                    thenStatements: stepsData.thenStatements,
                });
                _this.featureStore.setRemotePaths(result.remotePaths);
                _this.featureStore.setRemoteRepo(result.remoteRepo);
                _this.remoteRepo = result.remoteRepo;
                _this.ngOnInit();
            }
        });
    };
    // called from home.html toolbar to reset remote repo if there are issues/errors with saving to remote repo
    HomeComponent.prototype.forceResetRemoteRepo = function () {
        this.remoteCalls.forceResetRemoteRepo(this.remoteRepo.id)
            .subscribe(function (data) {
            console.log('forceResetRemoteRepo completed successfully: ', data);
        }, function (err) {
            console.error('Error from forceResetRemoteRepo ', err);
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('fileInput'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
    ], HomeComponent.prototype, "fileInputRef", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('formDirective'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgForm"])
    ], HomeComponent.prototype, "formDirective", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('background'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _components_given_when_then_given_when_then_component__WEBPACK_IMPORTED_MODULE_13__["GivenWhenThenComponent"])
    ], HomeComponent.prototype, "backgroundComponent", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChildren"])(_components_scenario_scenario_component__WEBPACK_IMPORTED_MODULE_14__["ScenarioComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["QueryList"])
    ], HomeComponent.prototype, "scenarioComponents", void 0);
    HomeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-home',
            template: __webpack_require__(/*! ./home.component.html */ "./src/app/pages/home/home.component.html"),
            styles: [__webpack_require__(/*! ./home.component.css */ "./src/app/pages/home/home.component.css")]
        }),
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _angular_material__WEBPACK_IMPORTED_MODULE_9__["MatDialog"],
            _services_feature_store_service__WEBPACK_IMPORTED_MODULE_3__["FeatureStoreService"],
            _services_featurefile_parser_service__WEBPACK_IMPORTED_MODULE_4__["FeatureFileParserService"],
            _services_featureJSON_parser_service__WEBPACK_IMPORTED_MODULE_5__["FeatureJSONParserService"],
            _services_remote_calls_service__WEBPACK_IMPORTED_MODULE_7__["RemoteCallsService"],
            ngx_filesaver__WEBPACK_IMPORTED_MODULE_8__["FileSaverService"],
            _services_util_functions_service__WEBPACK_IMPORTED_MODULE_6__["UtilFunctionsService"]])
    ], HomeComponent);
    return HomeComponent;
}());



/***/ }),

/***/ "./src/app/pipes/remove-html.pipe.ts":
/*!*******************************************!*\
  !*** ./src/app/pipes/remove-html.pipe.ts ***!
  \*******************************************/
/*! exports provided: RemoveHTMLPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveHTMLPipe", function() { return RemoveHTMLPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var RemoveHTMLPipe = /** @class */ (function () {
    function RemoveHTMLPipe() {
    }
    RemoveHTMLPipe.prototype.transform = function (value, args) {
        //return text between <>b tags
        var left = value.indexOf('<b>');
        var right = value.indexOf('</b>');
        if (left > -1 && right > -1) {
            return value.substring(left + 3, right);
        }
        return value;
    };
    RemoveHTMLPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
            name: 'removeHTML'
        })
    ], RemoveHTMLPipe);
    return RemoveHTMLPipe;
}());



/***/ }),

/***/ "./src/app/pipes/search-remote.pipe.ts":
/*!*********************************************!*\
  !*** ./src/app/pipes/search-remote.pipe.ts ***!
  \*********************************************/
/*! exports provided: SearchRemotePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchRemotePipe", function() { return SearchRemotePipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/filter */ "./node_modules/lodash/filter.js");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_2__);



var SearchRemotePipe = /** @class */ (function () {
    function SearchRemotePipe() {
    }
    SearchRemotePipe.prototype.transform = function (remoteData, searchText) {
        if (!searchText) {
            return remoteData;
        }
        return lodash_filter__WEBPACK_IMPORTED_MODULE_2___default()(remoteData, function (item) {
            return item.fileName.includes(searchText) || (item.scenarioName && item.scenarioName.includes(searchText));
        });
    };
    SearchRemotePipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
            name: 'searchRemote'
        })
    ], SearchRemotePipe);
    return SearchRemotePipe;
}());



/***/ }),

/***/ "./src/app/pipes/search-repo.pipe.ts":
/*!*******************************************!*\
  !*** ./src/app/pipes/search-repo.pipe.ts ***!
  \*******************************************/
/*! exports provided: SearchRepoPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchRepoPipe", function() { return SearchRepoPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/filter */ "./node_modules/lodash/filter.js");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_2__);



var SearchRepoPipe = /** @class */ (function () {
    function SearchRepoPipe() {
    }
    SearchRepoPipe.prototype.transform = function (repoData, searchText) {
        if (!searchText) {
            return repoData;
        }
        return lodash_filter__WEBPACK_IMPORTED_MODULE_2___default()(repoData, function (item) {
            return item.name.includes(searchText);
        });
    };
    SearchRepoPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
            name: 'searchRepo'
        })
    ], SearchRepoPipe);
    return SearchRepoPipe;
}());



/***/ }),

/***/ "./src/app/services/feature-store.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/feature-store.service.ts ***!
  \***************************************************/
/*! exports provided: FeatureStoreService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FeatureStoreService", function() { return FeatureStoreService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var angular_webstorage_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular-webstorage-service */ "./node_modules/angular-webstorage-service/bundles/angular-webstorage-service.es5.js");
/* harmony import */ var _models_hardcodedStatements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/hardcodedStatements */ "./src/app/models/hardcodedStatements.ts");
/* harmony import */ var lodash_isArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/isArray */ "./node_modules/lodash/isArray.js");
/* harmony import */ var lodash_isArray__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_isArray__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/isString */ "./node_modules/lodash/isString.js");
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_isNumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/isNumber */ "./node_modules/lodash/isNumber.js");
/* harmony import */ var lodash_isNumber__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_isNumber__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_forEach__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/forEach */ "./node_modules/lodash/forEach.js");
/* harmony import */ var lodash_forEach__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_forEach__WEBPACK_IMPORTED_MODULE_7__);








var KEY = 'feature_file_tool_';
var FEATURE_FILE_STORAGE = KEY + "FEATURE_FILE";
var STEPSTATEMENTS_STORAGE = KEY + "STEPSTATEMENTS";
var REMOTEPATHS_STORAGE = KEY + "REMOTEPATHS";
var REMOTESCENARIOS_STORAGE = KEY + "REMOTESCENARIOS";
var REMOTE_REPO = KEY + "REMOTEREPO";
var FeatureStoreService = /** @class */ (function () {
    function FeatureStoreService(storage) {
        this.storage = storage;
        this.featureFile = this.storage.get(FEATURE_FILE_STORAGE) || {
            feature: "",
            showErrors: false,
            scenarios: [this.newScenario],
        };
        this.stepStatements = this.storage.get(STEPSTATEMENTS_STORAGE) || _models_hardcodedStatements__WEBPACK_IMPORTED_MODULE_3__["STATEMENTS"];
        this.remotePaths = this.storage.get(REMOTEPATHS_STORAGE) || [];
        this.remoteScenarios = this.storage.get(REMOTESCENARIOS_STORAGE) || [];
        this.remoteRepo = this.storage.get(REMOTE_REPO) || null;
    }
    FeatureStoreService.prototype.newScenario = function () {
        return {
            scenario: "",
            given: [{ text: "", dataTable: null }],
            when: [{ text: "", dataTable: null }],
            then: [{ text: "", dataTable: null }],
            keyVars: []
        };
    };
    FeatureStoreService.prototype.save = function () {
        this.storage.set(FEATURE_FILE_STORAGE, this.featureFile);
    };
    FeatureStoreService.prototype.setShowErrors = function (val) {
        this.featureFile.showErrors = val;
        this.save();
    };
    FeatureStoreService.prototype.getShowErrors = function () {
        return this.featureFile.showErrors;
    };
    FeatureStoreService.prototype.getFeatureFile = function () {
        return this.featureFile;
    };
    FeatureStoreService.prototype.setFeature = function (feature) {
        this.featureFile.feature = feature;
        this.save();
    };
    FeatureStoreService.prototype.getFeature = function () {
        return this.featureFile.feature;
    };
    FeatureStoreService.prototype.getScenarios = function () {
        return this.featureFile.scenarios;
    };
    FeatureStoreService.prototype.setScenarios = function (scenarios) {
        this.featureFile.scenarios = scenarios;
        this.save();
    };
    FeatureStoreService.prototype.setScenarioText = function (scenario, idx) {
        this.featureFile.scenarios[idx].scenario = scenario;
        this.checkIfValid(this.featureFile.scenarios);
        this.save();
    };
    FeatureStoreService.prototype.getScenarioText = function (idx) {
        return this.featureFile.scenarios[idx].scenario;
    };
    FeatureStoreService.prototype.setScenarioComment = function (scenarioComment, idx) {
        this.featureFile.scenarios[idx].scenarioComment = scenarioComment;
        this.save();
    };
    FeatureStoreService.prototype.getScenarioComment = function (idx) {
        return this.featureFile.scenarios[idx].scenarioComment;
    };
    FeatureStoreService.prototype.setScenarioTag = function (scenarioTag, idx) {
        this.featureFile.scenarios[idx].tag = scenarioTag;
        this.save();
    };
    FeatureStoreService.prototype.getScenarioTag = function (idx) {
        return this.featureFile.scenarios[idx].tag;
    };
    FeatureStoreService.prototype.setFeatureComment = function (feature) {
        this.featureFile.featureComment = feature;
        this.save();
    };
    FeatureStoreService.prototype.getFeatureComment = function () {
        return this.featureFile.featureComment;
    };
    FeatureStoreService.prototype.setFeatureTag = function (featureTag) {
        this.featureFile.featureTag = featureTag;
        this.save();
    };
    FeatureStoreService.prototype.getFeatureTag = function () {
        return this.featureFile.featureTag;
    };
    FeatureStoreService.prototype.isValidSteps = function (type) {
        return ['scenario', 'given', 'when', 'then', 'background'].indexOf(type) > -1;
    };
    FeatureStoreService.prototype.setSteps = function (type, stepsArray, idx) {
        if (!this.isValidSteps(type.toLowerCase())) {
            return;
        }
        if (type === "BACKGROUND") {
            this.featureFile.background = stepsArray;
        }
        else {
            this.featureFile.scenarios[idx][type.toLowerCase()] = stepsArray;
            // update errors
            this.checkIfValid(this.featureFile.scenarios);
        }
        this.save();
    };
    FeatureStoreService.prototype.getSteps = function (type, idx) {
        if (!this.isValidSteps(type.toLowerCase())) {
            console.error('Error getting Given When Then steps ', type);
            return null;
        }
        if (type === "BACKGROUND") {
            return this.featureFile.background;
        }
        return this.featureFile.scenarios[idx][type.toLowerCase()];
    };
    FeatureStoreService.prototype.setVars = function (varsArray, idx) {
        this.featureFile.scenarios[idx].keyVars = varsArray;
        this.save();
    };
    FeatureStoreService.prototype.getVars = function (idx) {
        return this.featureFile.scenarios[idx].keyVars;
    };
    FeatureStoreService.prototype.setExamples = function (exArray, idx) {
        this.featureFile.scenarios[idx].examples = exArray;
        this.checkIfValid(this.featureFile.scenarios);
        this.save();
    };
    FeatureStoreService.prototype.getExamples = function (idx) {
        return this.featureFile.scenarios[idx].examples;
    };
    FeatureStoreService.prototype.loadNewFeatureFile = function (featureFile) {
        if (featureFile && featureFile.feature) {
            this.featureFile = featureFile;
        }
        else {
            this.featureFile = {
                feature: "",
                showErrors: false,
                scenarios: [this.newScenario()],
                fileName: null,
                pathName: null
            };
        }
        this.save();
    };
    FeatureStoreService.prototype.resetTableData = function (idx) {
        this.setExamples(null, idx);
        this.save();
    };
    FeatureStoreService.prototype.resetFilePathNames = function () {
        this.featureFile.fileName = null;
        this.featureFile.pathName = null;
        this.save();
    };
    // called from HomeComponent - checks if data has been added to feature file in UI
    FeatureStoreService.prototype.checkFeatureFileHasData = function () {
        return (this.getFeature() && this.getFeature().length > 1) ||
            (this.getScenarioText[0] && this.getScenarioText[0].length > 0) ||
            (this.getSteps('Given', 0) && this.getSteps('Given', 0)[0].text.length > 1) ||
            (this.getSteps('When', 0) && this.getSteps('When', 0)[0].text.length > 1) ||
            (this.getSteps('Then', 0) && this.getSteps('Then', 0)[0].text.length > 1);
    };
    // called from HomeComponent - checks if data has been added to scenario in UI
    FeatureStoreService.prototype.checkScenarioHasData = function (idx) {
        return (this.getScenarioText[idx] && this.getScenarioText[idx].length > 0) ||
            (this.getSteps('Given', idx) && this.getSteps('Given', idx)[0].text.length > 1) ||
            (this.getSteps('When', idx) && this.getSteps('When', idx)[0].text.length > 1) ||
            (this.getSteps('Then', idx) && this.getSteps('Then', idx)[0].text.length > 1);
    };
    FeatureStoreService.prototype.isFeatureFileValid = function () {
        var scenariosOK = this.checkIfValid(this.featureFile.scenarios);
        return this.featureFile.feature.length > 0 &&
            lodash_isArray__WEBPACK_IMPORTED_MODULE_4___default()(this.featureFile.scenarios) && this.featureFile.scenarios.length > 0 &&
            scenariosOK;
    };
    // validate scenarios and add errorMessages array to each scenario
    FeatureStoreService.prototype.checkIfValid = function (_scenarios) {
        var _this = this;
        var isValid = true;
        //check scenario
        lodash_forEach__WEBPACK_IMPORTED_MODULE_7___default()(_scenarios, function (scenario) {
            scenario.errorMessages = [];
            // check thre is a scenario statement
            if (!scenario.scenario || scenario.scenario.length < 1) {
                scenario.errorMessages.push("Error: Missing Scenario statement");
                isValid = false;
            }
            //checks vars and example tabls
            if (scenario.keyVars && scenario.keyVars.length > 0) {
                if (!scenario.examples) {
                    scenario.errorMessages.push("Error: Tags present but no values entered in Scenario Examples Table");
                    isValid = false;
                }
                else if (scenario.examples[0].length !== scenario.keyVars.length) {
                    scenario.errorMessages.push("Error: Number of columns in Scenario Examples Table does not match Tags from Given / When / Then");
                    isValid = false;
                }
                else if (_this.anyMissingValues(scenario.examples)) {
                    scenario.errorMessages.push("Error: Missing values in Scenario Examples Table, every cell must contain text or a number");
                    isValid = false;
                }
            }
        });
        // check given/when/then
        lodash_forEach__WEBPACK_IMPORTED_MODULE_7___default()(_scenarios, function (scenario) {
            var stepTypes = ['given', 'when', 'then'];
            //check there's text for each step
            lodash_forEach__WEBPACK_IMPORTED_MODULE_7___default()(stepTypes, function (stepType) {
                lodash_forEach__WEBPACK_IMPORTED_MODULE_7___default()(scenario[stepType], function (step) {
                    if (!step.text || step.text.length < 1) {
                        scenario.errorMessages.push("Error: Missing Given / When / Then Statement");
                        isValid = false;
                        return false; //break forEach loop
                    }
                });
                if (scenario.errorMessages.indexOf('Error: Missing Given / When / Then Statement') > -1)
                    return false; //break forEach loop
            });
        });
        return isValid;
    };
    // isStepValid(steps: Step[]) {
    //   for (const step of steps) {
    //     if (!step.text || step.text.length < 1) return false;
    //   }
    //   return true;
    // }
    // TODO add unit tests
    FeatureStoreService.prototype.isVarsAndTableValid = function () {
        var scenarios = this.featureFile.scenarios;
        // TODO detect and return all errors for all scenarios instead of just returning
        // after first error
        for (var idx = 0; idx < scenarios.length; idx++) {
            if (scenarios[idx].keyVars && scenarios[idx].keyVars.length > 0) {
                if (!scenarios[idx].examples) {
                    return {
                        error: true,
                        message: 'Error: Tags present but no values entered in Scenario Example Table',
                        index: idx
                    };
                }
                if (scenarios[idx].examples[0].length !== scenarios[idx].keyVars.length) {
                    return {
                        error: true,
                        message: 'Error: Number of columns in Scenario Example Table does not match Tags from Given / When / Then statements',
                        index: idx
                    };
                }
                if (this.anyMissingValues(scenarios[idx].examples)) {
                    return {
                        error: true,
                        message: 'Error: Missing values in Scenario Examples Table, every cell must contain text or a number',
                        index: idx
                    };
                }
            }
        }
        return { error: false };
    };
    // validates data tbale has valid values
    FeatureStoreService.prototype.anyMissingValues = function (tableValues) {
        for (var idx = 0; idx < tableValues.length; idx++) {
            for (var idxin = 0; idxin < tableValues[idx].length; idxin++) {
                var value = tableValues[idx][idxin];
                if ((!lodash_isString__WEBPACK_IMPORTED_MODULE_5___default()(value) && !lodash_isNumber__WEBPACK_IMPORTED_MODULE_6___default()(value)) || (lodash_isString__WEBPACK_IMPORTED_MODULE_5___default()(value) && value.length === 0)) {
                    return true;
                }
            }
        }
        return false;
    };
    // called from ScenarioComponent
    // compares varsArray of <tags> with Example Table column names
    // returns {updateArr,deleteArr}
    //    - updateArr contains <tags> that do not have a corresponding column name
    //    - deleteArr contains column name that do not have a corresponding <tag>
    FeatureStoreService.prototype.checkUpdateNeeded = function (currentVars, tableCols) {
        var varUpdate = { updateArr: [], deleteArr: [] };
        var updateArr = [];
        var deleteArr = [];
        // get vars which are not in the table columns
        lodash_forEach__WEBPACK_IMPORTED_MODULE_7___default()(currentVars, function (v, idx) {
            updateArr.push(tableCols.indexOf(v) < 0);
        });
        varUpdate.updateArr = updateArr;
        // get table columns which are not in vars
        lodash_forEach__WEBPACK_IMPORTED_MODULE_7___default()(tableCols, function (v, idx) {
            if (currentVars.indexOf(v) < 0) {
                deleteArr.push(v);
            }
        });
        varUpdate.deleteArr = deleteArr;
        return varUpdate;
    };
    FeatureStoreService.prototype.setStepStatements = function (stepStatments) {
        this.stepStatements = stepStatments;
        this.storage.set(STEPSTATEMENTS_STORAGE, this.stepStatements);
    };
    FeatureStoreService.prototype.getStepStatements = function () {
        return this.stepStatements;
    };
    FeatureStoreService.prototype.setRemotePaths = function (remotePaths) {
        this.remotePaths = remotePaths;
        this.storage.set(REMOTEPATHS_STORAGE, this.remotePaths);
    };
    FeatureStoreService.prototype.getRemotePaths = function () {
        return this.remotePaths;
    };
    FeatureStoreService.prototype.setRemoteRepo = function (remoteRepo) {
        this.remoteRepo = remoteRepo;
        if (remoteRepo) {
            this.storage.set(REMOTE_REPO, this.remoteRepo);
        }
        else {
            this.storage.remove(REMOTE_REPO);
        }
    };
    FeatureStoreService.prototype.getRemoteRepo = function () {
        return this.remoteRepo;
    };
    //fummy feature file used for testing
    FeatureStoreService.prototype.loadDummyFeatureFile = function () {
        return {
            "feature": "This is a feature",
            "scenarios": [
                {
                    "scenario": "This is scenario Number 1",
                    "given": [
                        { text: "This is GIVEN statement", dataTable: [['id1', 'id2'], ['123', '345']] },
                        { text: "This is another GIVEN <var_Given> statement", dataTable: null }
                    ],
                    "when": [
                        { text: "This is WHEN statement", dataTable: null },
                        { text: "This is another WHEN statement <var_When>", dataTable: null },
                        { text: "This is When statement", dataTable: [['id1', 'id2'], ['123', '345']] }
                    ],
                    "then": [
                        { text: "This is THEN <var_Then1> statement ", dataTable: null },
                        { text: "This is another THEN statement <var_Then2>", dataTable: null },
                        { text: "This is another \"THEN\" statement <var_Then3>", dataTable: [['id1', 'id2'], ['123', '345']] }
                    ],
                    "examples": [
                        [
                            "34",
                            "asd",
                            "df",
                            "sdfsdfsd",
                            "111"
                        ],
                        [
                            "3",
                            "weer",
                            "er",
                            "wer",
                            "234"
                        ],
                        [
                            "2",
                            "werwe",
                            "werw",
                            "wer",
                            "345"
                        ],
                        [
                            "23",
                            "rwerwer",
                            "werwer",
                            "werwer",
                            "456"
                        ]
                    ],
                    "keyVars": [
                        "var_Given",
                        "var_When",
                        "var_Then1",
                        "var_Then2",
                        "var_Then3"
                    ]
                },
                {
                    "scenario": "This is scenario Number 2",
                    "given": [
                        { text: "This is GIVEN statement in scenario 2", dataTable: null },
                    ],
                    "when": [
                        { text: "This is WHEN statement in scenario 2", dataTable: null },
                    ],
                    "then": [
                        { text: "This is THEN statement in scenario 2", dataTable: null },
                    ],
                    "keyVars": [],
                    "examples": null
                }
            ],
            "featureComment": "This is a feature comment",
            "showErrors": false,
            "pathName": null,
            "fileName": null
        };
    };
    FeatureStoreService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(angular_webstorage_service__WEBPACK_IMPORTED_MODULE_2__["LOCAL_STORAGE"])),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object])
    ], FeatureStoreService);
    return FeatureStoreService;
}());



/***/ }),

/***/ "./src/app/services/featureJSON-parser.service.ts":
/*!********************************************************!*\
  !*** ./src/app/services/featureJSON-parser.service.ts ***!
  \********************************************************/
/*! exports provided: FeatureJSONParserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FeatureJSONParserService", function() { return FeatureJSONParserService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_util_functions_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/util-functions.service */ "./src/app/services/util-functions.service.ts");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/filter */ "./node_modules/lodash/filter.js");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/findIndex */ "./node_modules/lodash/findIndex.js");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_forEach__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/forEach */ "./node_modules/lodash/forEach.js");
/* harmony import */ var lodash_forEach__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_forEach__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/isString */ "./node_modules/lodash/isString.js");
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_isNumber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/isNumber */ "./node_modules/lodash/isNumber.js");
/* harmony import */ var lodash_isNumber__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_isNumber__WEBPACK_IMPORTED_MODULE_7__);








var FeatureJSONParserService = /** @class */ (function () {
    function FeatureJSONParserService(utils) {
        this.utils = utils;
    }
    // return left and right strings of blank spaces to enable
    // alignment of data tables
    // @param {number} colWidth - The column width
    // @param {string} text - The input text 
    FeatureJSONParserService.prototype.getSpacers = function (colWidth, text) {
        var spacers = {
            spacerLeft: "",
            spacerRight: ""
        };
        text = text === null ? '' : text;
        var spacer = colWidth - text.length;
        if (spacer < 1) {
            return {
                spacerLeft: " ",
                spacerRight: " "
            };
        }
        var spacerLeft = 1;
        var spacerRight = spacer - 1;
        spacers.spacerLeft = ' '.repeat(spacerLeft);
        spacers.spacerRight = ' '.repeat(spacerRight);
        return spacers;
    };
    // iterate through cells and return array of he max widths for each column
    // @param {string[][]} rows - The data table
    // @param {string[][]} rows - the header titles row
    FeatureJSONParserService.prototype.getColumnWidths = function (rows, vars) {
        var colWidths = [];
        for (var idx = 0; idx < vars.length; idx++) {
            colWidths.push(vars[idx].length + 2);
        }
        if (rows) {
            for (var out_idx = 0; out_idx < rows.length; out_idx++) {
                for (var idx = 0; idx < rows[out_idx].length; idx++) {
                    // colWidths[idx] = rows[out_idx][idx] === null ? 6 : Math.max(colWidths[idx], rows[out_idx][idx].length + 2);
                    colWidths[idx] = rows[out_idx][idx] === null ? colWidths[idx] : Math.max(colWidths[idx], rows[out_idx][idx].length + 2);
                }
            }
        }
        return colWidths;
    };
    // iterate through cells and return array of he max widths for each column
    // @param {string[][]} rows - The data table
    FeatureJSONParserService.prototype.getColumnWidthsDataTable = function (rows) {
        var colWidths = rows[0].map(function (i) { return i ? i.length : 2; }).slice();
        for (var out_idx = 0; out_idx < rows.length; out_idx++) {
            for (var idx = 0; idx < rows[out_idx].length; idx++) {
                colWidths[idx] = rows[out_idx][idx] === null ? colWidths[idx] : Math.max(colWidths[idx], rows[out_idx][idx].length + 2);
            }
        }
        return colWidths;
    };
    // removes rows where all values are null
    // replaces nulls with ""s in each row
    // @param {string[][]} arr - the input table
    FeatureJSONParserService.prototype.replaceNulls = function (arr) {
        //remove rows of all null values
        var arrOut = lodash_filter__WEBPACK_IMPORTED_MODULE_3___default()(arr, function (row) {
            return lodash_findIndex__WEBPACK_IMPORTED_MODULE_4___default()(row, function (v) { return lodash_isString__WEBPACK_IMPORTED_MODULE_6___default()(v) || lodash_isNumber__WEBPACK_IMPORTED_MODULE_7___default()(v); }) > -1;
        });
        return arrOut.map(function (subArr) { return subArr.map(function (val) { return val === null ? '' : val; }); });
    };
    // convert JSON scenarios into lines of text 
    FeatureJSONParserService.prototype.extractScenariosText = function (feature) {
        var _this = this;
        // loop throught scenarios
        // extract steps and data tables
        var scenariosOutput = [];
        lodash_forEach__WEBPACK_IMPORTED_MODULE_5___default()(feature.scenarios, function (scenario) {
            var gwt = {
                given: '',
                when: '',
                then: '',
                title: '',
            };
            for (var _i = 0, _a = ['Given', 'When', 'Then']; _i < _a.length; _i++) {
                var step = _a[_i];
                var stepLC = step.toLowerCase();
                if (scenario[stepLC]) {
                    for (var idx = 0; idx < scenario[stepLC].length; idx++) {
                        // step text
                        gwt[stepLC] = gwt[stepLC] + (idx === 0 ? step + " " + scenario[stepLC][idx].text : "\n    And " + scenario[stepLC][idx].text);
                        // STEP DATA TABLE
                        if (scenario[stepLC][idx].dataTable) {
                            var dataTableArr = _this.replaceNulls(scenario[stepLC][idx].dataTable);
                            var colWidths = _this.getColumnWidthsDataTable(dataTableArr);
                            for (var idxIn = 0; idxIn < dataTableArr.length; idxIn++) {
                                var line = '|';
                                for (var idxIn2 = 0; idxIn2 < dataTableArr[idxIn].length; idxIn2++) {
                                    var spacers = _this.getSpacers(colWidths[idxIn2], dataTableArr[idxIn][idxIn2]);
                                    line = line + ("" + spacers.spacerLeft + dataTableArr[idxIn][idxIn2] + spacers.spacerRight + "|");
                                }
                                gwt[stepLC] = gwt[stepLC] + "\n      " + line;
                            }
                        }
                    }
                }
            }
            // Example Tables
            var exampleTitle = '';
            if (scenario.keyVars && scenario.keyVars.length > 0) {
                var exampleObj = _this.extractExampleTableText(scenario);
                exampleTitle = exampleObj.exampleTitle;
                gwt.examples = exampleObj.exampleTitle + "\n      " + exampleObj.examples;
            }
            var scenarioTitle = exampleTitle.length > 0 ? 'Scenario Outline' : 'Scenario';
            gwt.title = scenarioTitle + ": " + scenario.scenario;
            if (scenario.scenarioComment) {
                gwt.comment = scenario.scenarioComment;
            }
            if (scenario.tag) {
                gwt.tag = scenario.tag;
            }
            scenariosOutput.push(gwt);
        });
        return scenariosOutput;
    };
    //TODO declare return
    FeatureJSONParserService.prototype.extractExampleTableText = function (scenario) {
        var exampleTitle = '';
        var examples = '';
        var colWidths = this.getColumnWidths(scenario.examples, scenario.keyVars);
        exampleTitle = "Examples:";
        var line = '|';
        for (var idx = 0; idx < scenario.keyVars.length; idx++) {
            var spacers = this.getSpacers(colWidths[idx], scenario.keyVars[idx]);
            line = line + ("" + spacers.spacerLeft + scenario.keyVars[idx] + spacers.spacerRight + "|");
        }
        exampleTitle = exampleTitle + "\n      " + line;
        if (scenario.examples && scenario.examples[0] && scenario.examples[0].length > 0) {
            var examplesArr = this.replaceNulls(scenario.examples);
            //skip first which is titles
            // use keyVars for title
            for (var out_idx = 1; out_idx < examplesArr.length; out_idx++) {
                var line_1 = '|';
                for (var idx = 0; idx < examplesArr[out_idx].length; idx++) {
                    var spacers = this.getSpacers(colWidths[idx], examplesArr[out_idx][idx]);
                    line_1 = line_1 + ("" + spacers.spacerLeft + examplesArr[out_idx][idx] + spacers.spacerRight + "|");
                }
                examples = examples ? examples + "\n      " + line_1 : "" + line_1;
            }
        }
        return { exampleTitle: exampleTitle, examples: examples };
    };
    FeatureJSONParserService.prototype.extractBackgroundText = function (feature) {
        var background = "Background:\n    ";
        for (var idx = 0; idx < feature.background.length; idx++) {
            background = background + (idx === 0 ? "Given " + feature.background[idx].text : "\n    And " + feature.background[idx].text);
            if (feature.background[idx].dataTable) {
                var dataTableArr = this.replaceNulls(feature.background[idx].dataTable);
                var colWidths = this.getColumnWidthsDataTable(dataTableArr);
                for (var idxIn = 0; idxIn < dataTableArr.length; idxIn++) {
                    var line = '|';
                    for (var idxIn2 = 0; idxIn2 < dataTableArr[idxIn].length; idxIn2++) {
                        var spacers = this.getSpacers(colWidths[idxIn2], dataTableArr[idxIn][idxIn2]);
                        line = line + ("" + spacers.spacerLeft + dataTableArr[idxIn][idxIn2] + spacers.spacerRight + "|");
                    }
                    background = background + "\n      " + line;
                }
            }
        }
        return background;
    };
    // make sure tags start with @
    FeatureJSONParserService.prototype.parseTag = function (str) {
        if (str.trim().startsWith('@')) {
            return str.trim();
        }
        else {
            return "@" + str.trim();
        }
    };
    FeatureJSONParserService.prototype.convertJSONtoFeature = function (feature) {
        var _this = this;
        var _scenariosOutput = this.extractScenariosText(feature);
        var background;
        if (feature.background && feature.background[0] && feature.background[0].text && feature.background[0].text.length > 1) {
            background = this.extractBackgroundText(feature);
        }
        // Build Feature File
        var featureFileText;
        if (feature.featureTag) {
            featureFileText = this.parseTag(feature.featureTag) + "\nFeature: " + feature.feature;
        }
        else {
            featureFileText = "Feature: " + feature.feature;
        }
        if (feature.featureComment) {
            featureFileText = featureFileText + "\n" + feature.featureComment;
        }
        if (background) {
            featureFileText = featureFileText + "\n  " + background;
        }
        lodash_forEach__WEBPACK_IMPORTED_MODULE_5___default()(_scenariosOutput, function (scenario) {
            featureFileText = featureFileText + "\n";
            if (scenario.tag) {
                featureFileText = featureFileText + "\n  " + _this.parseTag(scenario.tag) + "\n  " + scenario.title;
            }
            else {
                featureFileText = featureFileText + "\n  " + scenario.title;
            }
            if (scenario.comment) {
                featureFileText = featureFileText + "\n  " + scenario.comment;
            }
            featureFileText = featureFileText + "\n    " + scenario.given + "\n    " + scenario.when + "\n    " + scenario.then;
            if (scenario.examples) {
                featureFileText = featureFileText + "\n\n    " + scenario.examples;
            }
        });
        return featureFileText;
    };
    FeatureJSONParserService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_util_functions_service__WEBPACK_IMPORTED_MODULE_2__["UtilFunctionsService"]])
    ], FeatureJSONParserService);
    return FeatureJSONParserService;
}());



/***/ }),

/***/ "./src/app/services/featurefile-parser.service.ts":
/*!********************************************************!*\
  !*** ./src/app/services/featurefile-parser.service.ts ***!
  \********************************************************/
/*! exports provided: FeatureFileParserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FeatureFileParserService", function() { return FeatureFileParserService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_util_functions_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/util-functions.service */ "./src/app/services/util-functions.service.ts");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/filter */ "./node_modules/lodash/filter.js");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/findIndex */ "./node_modules/lodash/findIndex.js");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_5__);






var FeatureFileParserService = /** @class */ (function () {
    function FeatureFileParserService(utils) {
        this.utils = utils;
    }
    // search for next Scenario: or Scenario Outline, return null if not found
    FeatureFileParserService.prototype.findNextScenario = function (_lineArr, _lineNumberCurrent) {
        var min = [this.findLineByString(_lineArr, 'Scenario:', _lineNumberCurrent), this.findLineByString(_lineArr, 'Scenario Outline:', _lineNumberCurrent)].reduce(function (m, o) {
            return (o != null && o < m) ? o : m;
        }, Infinity);
        return min === Infinity ? null : min;
    };
    FeatureFileParserService.prototype.extractSubstring = function (strIn, removeString) {
        var start = strIn.indexOf(removeString);
        return start > -1 ? strIn.substring(start + removeString.length).trim() : null;
    };
    FeatureFileParserService.prototype.findLineByString = function (arr, strToFind, startPosn, endPosn) {
        if (startPosn < 0 || endPosn < 0) {
            return null;
        }
        var cloneArr = arr.slice();
        cloneArr.splice(0, startPosn);
        if (endPosn) {
            cloneArr.splice(endPosn - startPosn + 1, arr.length - endPosn);
        }
        var lineNum = lodash_findIndex__WEBPACK_IMPORTED_MODULE_5___default()(cloneArr, function (line) { return line.indexOf(strToFind) > -1; });
        return lineNum > -1 ? lineNum + startPosn : null;
    };
    // extract feature and scenario comments
    // check for and exclude @tags
    FeatureFileParserService.prototype.extractComment = function (arr, lineNumberStart, lineNumberStop) {
        var numOfLines = lineNumberStop - lineNumberStart;
        if (numOfLines === 1) {
            return arr[lineNumberStart].trim().startsWith('@') ? '' : arr[lineNumberStart].trim();
        }
        else { //multiple lines of comments
            var str = '';
            for (var idx = lineNumberStart; idx < lineNumberStart + numOfLines; idx++) {
                str = str + (arr[idx].trim().startsWith('@') ? '' : arr[idx].trim() + " ");
            }
            return str;
        }
    };
    FeatureFileParserService.prototype.extractDataTable = function (strIn) {
        // strIn:  | Dispute Total Amount | Partner |
        try {
            var strArr = strIn.split('|').map(function (item) { return item.trim(); });
            // ["", "Dispute Total Amount", "Partner", ""]
            strArr.splice(0, 1);
            strArr.splice(strArr.length - 1, 1);
            return strArr;
        }
        catch (err) {
            console.error('ERROR parsing data table ', err);
            return [];
        }
    };
    // convert feature file into array of lines, omitting comments and blanks
    FeatureFileParserService.prototype.featureFileToLinesArray = function (file) {
        var lineArr = file.split('\n');
        return lodash_filter__WEBPACK_IMPORTED_MODULE_3___default()(lineArr, function (line) { return line.trim() !== "" && !line.trim().startsWith('#'); });
    };
    // extract scenarios from feature file text format
    // get start and end lines of scenaario and return as string separted by \n
    FeatureFileParserService.prototype.extractScenario = function (featureFile, scenarioTitle) {
        var lineArr = this.featureFileToLinesArray(featureFile);
        var start = this.findLineByString(lineArr, scenarioTitle, 0);
        if (!start) {
            return "Scenario not found";
        }
        var end1 = this.findLineByString(lineArr, "Scenario:", start + 1);
        var end2 = this.findLineByString(lineArr, "Scenario Outline:", start + 1);
        var end = Math.min(end1 || lineArr.length - 1, end2 || lineArr.length - 1);
        return lineArr.splice(start, end - start).join('\n');
    };
    // checks if line before Feature or Scenario line starts with @
    FeatureFileParserService.prototype.checkForTag = function (arr, current) {
        if (current <= 0)
            return null;
        return arr[current - 1].trim().startsWith('@') ? arr[current - 1].trim() : null;
    };
    FeatureFileParserService.prototype.convertFeatureFiletoJSON = function (fileIn, fileName, pathName) {
        var featureFile = {
            feature: "",
            scenarios: [],
            showErrors: false,
            pathName: pathName,
            fileName: fileName
        };
        var name = "Parse File Error";
        try {
            var lineArr = this.featureFileToLinesArray(fileIn);
            var lineNumberNext = void 0;
            var lineNumberEnd = void 0;
            // get Feature Title
            var lineNumberCurrent = this.findLineByString(lineArr, 'Feature:', 0);
            if (lineNumberCurrent > -1 && this.extractSubstring(lineArr[lineNumberCurrent], 'Feature:')) {
                featureFile.feature = this.extractSubstring(lineArr[lineNumberCurrent], 'Feature:');
                // check line above for tag
                var checkTag = this.checkForTag(lineArr, lineNumberCurrent);
                if (checkTag) {
                    featureFile.featureTag = checkTag;
                }
            }
            else {
                throw { name: "Parse File Error", message: "Unable to read Feature statement in Feature File" };
            }
            // check for background
            lineNumberCurrent++;
            lineNumberNext = this.findLineByString(lineArr, 'Background:', lineNumberCurrent);
            // check for feature comment
            if (lineNumberNext > lineNumberCurrent) {
                featureFile.featureComment = this.extractComment(lineArr, lineNumberCurrent, lineNumberNext);
            }
            // Parse background section
            if (lineNumberNext) {
                // found background, parse it
                // first  find scenario to mark end of the backgroound serction
                lineNumberEnd = this.findNextScenario(lineArr, lineNumberCurrent);
                if (!lineNumberEnd) {
                    throw { name: name, message: "Unable to find Scenario statement in Feature File" };
                }
                // find given and And statements in background
                lineNumberCurrent = this.findLineByString(lineArr, 'Given', lineNumberCurrent, lineNumberEnd);
                // find given statement
                if (lineNumberCurrent > -1 && this.extractSubstring(lineArr[lineNumberCurrent], 'Given')) {
                    featureFile.background = [{ text: this.extractSubstring(lineArr[lineNumberCurrent], 'Given'), dataTable: null }];
                }
                else {
                    throw { name: name, message: "Unable to read Background statement in Feature File, there is no Given step" };
                }
                // get Ands in background
                lineNumberCurrent++; // move onto next line
                // check these lines for more And or Given Statements
                if (lineNumberEnd > lineNumberCurrent) {
                    var dataTable = [];
                    for (var idxIn = lineNumberCurrent; idxIn < lineNumberEnd; idxIn++) {
                        if (lineArr[idxIn].trim().startsWith('|')) {
                            dataTable.push(this.extractDataTable(lineArr[idxIn]));
                        }
                        else {
                            //check if theres a data table to be added from previous step
                            if (dataTable.length > 0) {
                                var lastIndex = featureFile.background.length - 1;
                                featureFile.background[lastIndex].dataTable = dataTable;
                            }
                            dataTable = [];
                            var andStr = this.extractSubstring(lineArr[idxIn], 'And') || this.extractSubstring(lineArr[idxIn], 'Given');
                            if (andStr) {
                                featureFile.background.push({ text: andStr, dataTable: null });
                            }
                        }
                    }
                    if (dataTable.length > 0) {
                        var lastIndex = featureFile.background.length - 1;
                        featureFile.background[lastIndex].dataTable = dataTable;
                    }
                }
                lineNumberNext = lineNumberCurrent = lineNumberEnd; // now at first scenario
            }
            else {
                // no background section move onto scanario
                lineNumberNext = this.findNextScenario(lineArr, lineNumberCurrent);
            }
            if (!lineNumberNext) {
                throw { name: name, message: "Unable to read Scenario statement in Feature File" };
            }
            //check for feature comment
            // TODO check is this comment bit necessary  
            if (lineNumberNext > lineNumberCurrent) {
                featureFile.featureComment = this.extractComment(lineArr, lineNumberCurrent, lineNumberNext);
            }
            lineNumberCurrent = lineNumberNext; //set current line to first scenario
            // parse for multiple Scenario 
            featureFile.scenarios = this.convertScenarioToJSON(lineNumberCurrent, lineArr);
        }
        catch (err) {
            console.error('ERROR in convertFeatureFiletoJSON', err);
            return { ok: false, error: err };
        }
        return { ok: true, featureFile: featureFile };
    };
    FeatureFileParserService.prototype.convertScenarioToJSON = function (lineNumberCurrent, lineArr) {
        var scenarioIdx = 1;
        var lineNumberNextStep;
        var isAnotherScenario = true;
        var scenarios = [];
        while (isAnotherScenario) {
            var scenario = {
                scenario: "",
                given: [{ text: "", dataTable: null }],
                when: [{ text: "", dataTable: null }],
                then: [{ text: "", dataTable: null }],
                keyVars: []
            };
            //check for scenario tag
            var checkTag = this.checkForTag(lineArr, lineNumberCurrent);
            if (checkTag) {
                scenario.tag = checkTag;
            }
            // find next scenario, if none set to end of file
            var nextScenario = this.findNextScenario(lineArr, lineNumberCurrent + 1);
            if (!nextScenario) {
                nextScenario = lineArr.length; // set to last line number
                isAnotherScenario = false;
            }
            // if there is gap between scenario and given, extract it as a comment
            var lineNumberGiven = this.findLineByString(lineArr, 'Given', lineNumberCurrent, nextScenario);
            if (lineNumberGiven - lineNumberCurrent > 1) {
                scenario.scenarioComment = this.extractComment(lineArr, lineNumberCurrent + 1, lineNumberGiven);
            }
            // extract scenario statement
            scenario.scenario = this.extractSubstring(lineArr[lineNumberCurrent], 'Scenario Outline:') || this.extractSubstring(lineArr[lineNumberCurrent], 'Scenario:');
            //get Given / When / Then Steps
            var steps = ['Given', 'When', 'Then', 'Examples'];
            for (var idx = 0; idx < steps.length - 1; idx++) {
                //get Given When Then Statement 
                lineNumberCurrent = this.findLineByString(lineArr, steps[idx], lineNumberCurrent, nextScenario);
                if (lineNumberCurrent && this.extractSubstring(lineArr[lineNumberCurrent], steps[idx])) {
                    scenario[steps[idx].toLowerCase()] = [{ text: this.extractSubstring(lineArr[lineNumberCurrent], steps[idx]), dataTable: null }];
                }
                else {
                    throw { name: name, message: "Unable to read " + steps[idx] + " statement in Feature File Scenario #" + scenarioIdx };
                }
                //get Ands
                lineNumberCurrent++;
                lineNumberNextStep = this.findLineByString(lineArr, steps[idx + 1], lineNumberCurrent, nextScenario);
                // if there's no Examples Table, set to check to end of file
                if (!lineNumberNextStep && steps[idx + 1] === 'Examples') {
                    lineNumberNextStep = nextScenario;
                }
                if (!lineNumberNextStep)
                    throw { name: name, message: "Unable to read " + steps[idx + 1] + " Scenario #" + scenarioIdx };
                // extract data tables and  Ands
                // TODO duplicate code put this in function
                if (lineNumberNextStep > lineNumberCurrent) { //there's table or AND
                    var dataTable = [];
                    for (var idxIn = lineNumberCurrent; idxIn < lineNumberNextStep; idxIn++) {
                        if (lineArr[idxIn].trim().startsWith('|')) {
                            dataTable.push(this.extractDataTable(lineArr[idxIn]));
                        }
                        else {
                            //check if theres a data table to be added from previous step
                            if (dataTable.length > 0) {
                                var lastIndex = scenario[steps[idx].toLowerCase()].length - 1;
                                scenario[steps[idx].toLowerCase()][lastIndex].dataTable = dataTable;
                            }
                            dataTable = [];
                            var andStr = this.extractSubstring(lineArr[idxIn], 'And');
                            if (andStr) {
                                scenario[steps[idx].toLowerCase()].push({ text: andStr, dataTable: null });
                            }
                        }
                    }
                    if (dataTable.length > 0) {
                        var lastIndex = scenario[steps[idx].toLowerCase()].length - 1;
                        scenario[steps[idx].toLowerCase()][lastIndex].dataTable = dataTable;
                    }
                }
            } //end of parse steps
            //get example table
            lineNumberCurrent = this.findLineByString(lineArr, 'Examples:', lineNumberCurrent, nextScenario);
            if (lineNumberCurrent) {
                var examples = [];
                lineNumberCurrent++;
                for (var idx = lineNumberCurrent; idx < nextScenario; idx++) {
                    if (lineArr[idx].trim().startsWith('|')) {
                        examples.push(this.extractDataTable(lineArr[idx]));
                    }
                }
                scenario.examples = examples;
            }
            // create varsArray
            var keyVars = [];
            for (var _i = 0, _a = [scenario.given, scenario.when, scenario.then]; _i < _a.length; _i++) {
                var stepsArr = _a[_i];
                for (var _b = 0, stepsArr_1 = stepsArr; _b < stepsArr_1.length; _b++) {
                    var step = stepsArr_1[_b];
                    keyVars = keyVars.concat(this.utils.extractVars(step.text, []));
                }
            }
            scenario.keyVars = lodash_uniq__WEBPACK_IMPORTED_MODULE_4___default()(keyVars);
            scenarioIdx++;
            lineNumberCurrent = nextScenario; // set lineNumberCurrent to start of next scenarios for next loop iteration
            scenarios.push(scenario);
        }
        return scenarios;
    };
    FeatureFileParserService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_util_functions_service__WEBPACK_IMPORTED_MODULE_2__["UtilFunctionsService"]])
    ], FeatureFileParserService);
    return FeatureFileParserService;
}());



/***/ }),

/***/ "./src/app/services/remote-calls.service.ts":
/*!**************************************************!*\
  !*** ./src/app/services/remote-calls.service.ts ***!
  \**************************************************/
/*! exports provided: RemoteCallsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoteCallsService", function() { return RemoteCallsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/app/constants/index.ts");




var RemoteCallsService = /** @class */ (function () {
    function RemoteCallsService(http) {
        this.http = http;
    }
    // downloads details from remote repo
    // lists of remote feature file, scenarios, steps, data tables
    RemoteCallsService.prototype.listRemoteRepo = function () {
        var url = _constants__WEBPACK_IMPORTED_MODULE_3__["CONSTANTS"].BACKEND_HOST + "/remoteRepo/listRepos";
        return this.http.get(url);
    };
    // downloads details from remote repo
    // lists of remote feature file, scenarios, steps, data tables
    RemoteCallsService.prototype.importRemoteRepo = function (repoId) {
        var url = _constants__WEBPACK_IMPORTED_MODULE_3__["CONSTANTS"].BACKEND_HOST + "/remoteRepo/importRemoteRepo?repoId=" + repoId;
        return this.http.get(url);
    };
    // downloads contents of specific feature file
    RemoteCallsService.prototype.getFeatureFile = function (fileName, pathName, repoId) {
        var url = _constants__WEBPACK_IMPORTED_MODULE_3__["CONSTANTS"].BACKEND_HOST + "/remoteRepo/getFeatureFile?fileName=" + fileName + "&pathName=" + pathName + "&repoId=" + repoId;
        return this.http.get(url, { responseType: 'text' });
    };
    // uploads feature file
    RemoteCallsService.prototype.saveFeatureFile = function (fileName, pathName, repoId, featureFile, isNew) {
        var url = _constants__WEBPACK_IMPORTED_MODULE_3__["CONSTANTS"].BACKEND_HOST + "/remoteRepo/saveFeatureFile";
        var body = {
            fileName: fileName,
            pathName: pathName,
            repoId: repoId,
            contents: featureFile,
            isNew: isNew
        };
        return this.http.post(url, body);
    };
    // pings endpoint to delete local copy of remote repo in backend 
    // this forces a new git pull nest time remote is accessed
    // for use if there are errors caused by git merge conflicts
    RemoteCallsService.prototype.forceResetRemoteRepo = function (repoId) {
        var url = _constants__WEBPACK_IMPORTED_MODULE_3__["CONSTANTS"].BACKEND_HOST + "/remoteRepo/forceGitReset?repoId=" + repoId;
        var body = { reset: true };
        return this.http.post(url, body);
    };
    RemoteCallsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], RemoteCallsService);
    return RemoteCallsService;
}());



/***/ }),

/***/ "./src/app/services/util-functions.service.ts":
/*!****************************************************!*\
  !*** ./src/app/services/util-functions.service.ts ***!
  \****************************************************/
/*! exports provided: UtilFunctionsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UtilFunctionsService", function() { return UtilFunctionsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/findIndex */ "./node_modules/lodash/findIndex.js");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/isString */ "./node_modules/lodash/isString.js");
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_3__);




var UtilFunctionsService = /** @class */ (function () {
    function UtilFunctionsService() {
    }
    // Recursive function to extract <???> from input string
    // @str: string to be parsed for <???>
    // @varArray: array of <???> already found, should be [] for intial function call
    UtilFunctionsService.prototype.extractVars = function (str, varArray) {
        // work through input string and find <???>
        // only allow letters and numbers, no spaces or characters
        str = str.replace(/[^a-zA-Z<>0-9_"]+/g, '');
        // <?> is shortest allowable string, quit if shorter 
        if (str.length < 3) {
            return varArray;
        }
        // find first <
        var start = str.indexOf('<');
        if (start > -1) {
            var strTmp = str.substring(start + 1);
            //find next >
            var end = strTmp.indexOf('>');
            //quit if no >
            if (end < 0) {
                return varArray;
            }
            //check for  two <'s before next >, disregard the first one
            var next = strTmp.indexOf('<');
            if (next > -1 && next < end) {
                //found 2 <, start again after first <
                this.extractVars(strTmp.substring(next), varArray);
                return varArray;
            }
            if (end > 0) {
                //boom, got one
                varArray.push(strTmp.substring(0, end));
            }
            // ...and recurse
            this.extractVars(strTmp.substring(end + 1), varArray);
        }
        //quit if no < found
        return varArray;
    };
    // find place in tableColumns to insert new columns
    // should be to right of nearest valid existing column
    // @param: varsArray<{value: string, update: boolean} > update=false means it's valid
    // @param: idx - selected position of value to insert
    UtilFunctionsService.prototype.findInsertIndex = function (varsArray, idx) {
        for (var index = idx - 1; index >= 0; index--) {
            if (!varsArray[index].update) {
                return index;
            }
        }
        return -1; //not found
    };
    // find blank values in 2D array
    UtilFunctionsService.prototype.isNoEmptyCells = function (cellsValues) {
        for (var idx = 0; idx < cellsValues.length; idx++) {
            if (lodash_findIndex__WEBPACK_IMPORTED_MODULE_2___default()(cellsValues[idx], function (v) { return !lodash_isString__WEBPACK_IMPORTED_MODULE_3___default()(v); }) > -1) { // doesn't reject ''
                // if (_findIndex(cellsValues[idx], (v) => !_isString(v) || (v === '')) > -1) { // also rejects ''
                return false;
            }
        }
        return true;
    };
    UtilFunctionsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], UtilFunctionsService);
    return UtilFunctionsService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.error(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/fm/fh/fh-citi-Olympus/feature-file-helper-tool-new/feature-tool-frontend/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map